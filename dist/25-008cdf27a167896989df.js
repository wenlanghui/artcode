webpackJsonp([25],{126:function(e,t){e.exports={postBlock:"postBlock___289N6",deletedPost:"deletedPost___29jEr",marginLeft10:"marginLeft10___187xh",checkDiv:"checkDiv___32MNn",radioAndCheck:"radioAndCheck___1BDvU",postContent:"postContent___2wa8u",postInfo:"postInfo___2AFM9",content:"content___2jS2O",listPicture:"listPicture___2iS2s",addPostTip:"addPostTip___1hiRw"}},417:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(3),l=n(o),r=a(12),u=n(r),i=a(4),s=n(i),d=a(13),c=n(d),f=a(6),p=n(f),h=a(5),m=n(h),y=a(1),v=n(y),k=a(15),g=n(k),_=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]]);return a},b=function(e){function t(){(0,s.default)(this,t);var e=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleClick=function(){var t=e.props,a=t.checked,n=t.onChange;n&&n(!a)},e}return(0,m.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,n=void 0===a?"ant-tag":a,o=t.className,r=t.checked,i=_(t,["prefixCls","className","checked"]),s=(0,g.default)(n,(e={},(0,u.default)(e,n+"-checkable",!0),(0,u.default)(e,n+"-checkable-checked",r),e),o);return delete i.onChange,v.default.createElement("div",(0,l.default)({},i,{className:s,onClick:this.handleClick}))}}]),t}(v.default.Component);t.default=b,e.exports=t.default},418:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(3),l=n(o),r=a(12),u=n(r),i=a(4),s=n(i),d=a(13),c=n(d),f=a(6),p=n(f),h=a(5),m=n(h),y=a(1),v=n(y),k=a(51),g=n(k),_=a(190),b=n(_),C=a(15),E=n(C),w=a(305),x=n(w),O=a(58),P=n(O),M=a(417),S=n(M),j=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&(a[n[o]]=e[n[o]]);return a},I=function(e){function t(e){(0,s.default)(this,t);var a=(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.close=function(e){var t=a.props.onClose;if(t&&t(e),!e.defaultPrevented){var n=g.default.findDOMNode(a);n.style.width=n.getBoundingClientRect().width+"px",n.style.width=n.getBoundingClientRect().width+"px",a.setState({closing:!0})}},a.animationEnd=function(e,t){if(!t&&!a.state.closed){a.setState({closed:!0,closing:!1});var n=a.props.afterClose;n&&n()}},a.state={closing:!1,closed:!1},a}return(0,m.default)(t,e),(0,c.default)(t,[{key:"isPresetColor",value:function(e){return/^(pink|red|yellow|orange|cyan|green|blue|purple)(-inverse)?$/.test(e)}},{key:"render",value:function(){var e,t=this.props,a=t.prefixCls,n=t.closable,o=t.color,r=t.className,i=t.children,s=t.style,d=j(t,["prefixCls","closable","color","className","children","style"]),c=n?v.default.createElement(P.default,{type:"cross",onClick:this.close}):"",f=this.isPresetColor(o),p=(0,E.default)(a,(e={},(0,u.default)(e,a+"-"+o,f),(0,u.default)(e,a+"-has-color",o&&!f),(0,u.default)(e,a+"-close",this.state.closing),e),r),h=(0,x.default)(d,["onClose","afterClose"]),m=(0,l.default)({backgroundColor:o&&!f?o:null},s),y=this.state.closed?null:v.default.createElement("div",(0,l.default)({"data-show":!this.state.closing},h,{className:p,style:m}),v.default.createElement("span",{className:a+"-text"},i),c);return v.default.createElement(b.default,{component:"",showProp:"data-show",transitionName:a+"-zoom",transitionAppear:!0,onEnd:this.animationEnd},y)}}]),t}(v.default.Component);t.default=I,I.CheckableTag=S.default,I.defaultProps={prefixCls:"ant-tag",closable:!1},e.exports=t.default},419:[1437,467],431:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(4),l=n(o),r=a(6),u=n(r),i=a(5),s=n(i),d=a(1),c=n(d),f=a(2),p=n(f),h=a(32),m=function(e){function t(){(0,l.default)(this,t);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];return(0,u.default)(this,e.call.apply(e,[this].concat(n)))}return(0,s.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.item,a=e.visible,n=e.onOk,o=e.onCancel,l={CommentAdd:{key:"CommentAdd",title:"\u6dfb\u52a0\u8bc4\u8bba",fields:[{label:"\u5e16\u5b50ID",key:"postIds",type:"textarea",rows:2,rules:[{required:!0}],disabled:!0},{label:"\u6240\u56de\u590d\u7684\u8bc4\u8bbaID",key:"replyIds",type:"textarea",rows:2,disabled:t.replyIds&&t.replyIds.length>0},{label:"\u4f5c\u8005ID",key:"author",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f5c\u8005ID"}]},{label:"\u5185\u5bb9",key:"content",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5185\u5bb9"}],type:"textarea",rows:4}]}};return c.default.createElement(h.FormModal,{item:t,defaultTab:"CommentAdd",tabs:l,title:"\u6dfb\u52a0\u8bc4\u8bba",visible:a,onOk:n,onCancel:o})},t}(c.default.Component);t.default=m,m.propTypes={item:p.default.object.isRequired,visible:p.default.bool.isRequired,onOk:p.default.func.isRequired,onCancel:p.default.func.isRequired},e.exports=t.default},467:35,827:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(a(39),a(36)),l=n(o),r=(a(17),a(19)),u=n(r),i=a(4),s=n(i),d=a(6),c=n(d),f=a(5),p=n(f),h=a(1),m=n(h),y=a(2),v=n(y),k=a(126),g=n(k),_=a(73),b=function(e){function t(){(0,s.default)(this,t);for(var a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];var l=(0,c.default)(this,e.call.apply(e,[this].concat(n)));return l.postBlocks=_.postBlocks,l.postOrders=[{name:"\u6700\u65b0",value:"created"},{name:"\u9ed8\u8ba4",value:"updated"},{name:"\u516c\u544a",value:"focus"},{name:"\u70ed\u95e8",value:"hot"},{name:"\u7cbe\u54c1",value:"distillate"},{name:"\u6709\u56fe",value:"image"}],l}return(0,p.default)(t,e),t.prototype.blockChange=function(e){this.context.router.push({pathname:this.props.location.pathname,query:{block:e.target.value}})},t.prototype.orderChange=function(e){this.context.router.push({pathname:this.props.location.pathname,query:{block:this.block,order:e.target.value}})},t.prototype.search=function(e){this.context.router.push({pathname:this.props.location.pathname,query:{block:"",order:"created",keyword:e}})},t.prototype.shouldComponentUpdate=function(e){return this.props.location!==e.location},t.prototype.render=function(){var e=this;return this.block=this.props.location.query.block||"",this.order=this.props.location.query.order||"created",this.keyword=this.props.location.query.keyword||"",m.default.createElement("div",null,m.default.createElement(u.default.Search,{style:{width:200},onSearch:function(t){return e.search(t)},defaultValue:this.keyword}),m.default.createElement("div",{className:g.default.postBlock},m.default.createElement(l.default.Group,{onChange:this.blockChange.bind(this),value:this.block},this.postBlocks.map(function(e){return m.default.createElement(l.default.Button,{key:e.name,value:e.value},e.name)}))),m.default.createElement("div",{className:g.default.postBlock},m.default.createElement(l.default.Group,{onChange:this.orderChange.bind(this),value:this.order},this.postOrders.map(function(e){return m.default.createElement(l.default.Button,{key:e.name,value:e.value},e.name)}))))},t}(m.default.Component);t.default=b,b.contextTypes={router:v.default.object},e.exports=t.default},828:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=(a(93),a(92)),l=n(o),r=(a(11),a(10)),u=n(r),i=(a(419),a(418)),s=n(i),d=a(12),c=n(d),f=a(3),p=n(f),h=a(4),m=n(h),y=a(6),v=n(y),k=a(5),g=n(k),_=a(1),b=n(_),C=a(2),E=n(C),w=a(14),x=n(w),O=a(126),P=n(O),M=a(73),S=function(e){function t(a){(0,m.default)(this,t);var n=(0,v.default)(this,e.call(this,a));return n.state={titleFull:{},selects:[]},n.blockMap={book:"\u4e66\u7c4d",review:"\u4e66\u8bc4",help:"\u6c42\u52a9",ramble:"\u7efc\u5408",game:"\u6e38\u620f",girl:"\u5973\u751f",original:"\u539f\u521b","android-feedback":"\u5b89\u5353\u53cd\u9988","ios-feedback":"iOS\u53cd\u9988"},n}return(0,g.default)(t,e),t.prototype.toggleMore=function(e){this.setState({titleFull:(0,p.default)({},this.state.titleFull,(0,c.default)({},e,!this.state.titleFull[e]))})},t.prototype.deleteOrRecoverPost=function(e,t){this.context.store.dispatch({type:e.deleted?"posts/recoverPost":"posts/deletePost",payload:{postId:e._id,value:e.deleted,index:t}})},t.prototype.setHotPost=function(e,t){this.context.store.dispatch({type:e.isSyncedTweetHot?"posts/unhotPost":"posts/hotPost",payload:{postId:e._id,value:e.isSyncedTweetHot,index:t}})},t.prototype.render=function(){var e=this,t={normal:"\u666e\u901a",focus:"\u516c\u544a",hot:"\u70ed\u95e8",distillate:"\u7cbe\u54c1"},a=this.props,n=a.dataSource,o=a.pagination,r=a.batchReply,i=[{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created",key:"created",width:160,render:function(e,t){return(0,x.default)(t.created).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u6807\u9898",dataIndex:"title",key:"title",render:function(a,n){return b.default.createElement("div",null,b.default.createElement(s.default,{style:{display:"normal"===n.state?"none":"inline-block"},color:"#f50"},t[n.state]),b.default.createElement("a",{href:"#/posts/"+n._id},n.title),"\u3010"+(e.blockMap[n.block]||"")+"\u3011",b.default.createElement("p",{style:e.state.titleFull[n._id]?{display:"none"}:{}},n.content.slice(0,108)),n.content.length>108?b.default.createElement("div",null,b.default.createElement("p",{style:e.state.titleFull[n._id]?{}:{display:"none"}},n.content),b.default.createElement("a",{onClick:function(){return e.toggleMore(n._id)}},e.state.titleFull[n._id]?"\u6536\u8d77":"\u66f4\u591a...")):"",b.default.createElement("div",null,n.pictures.map(function(e){return b.default.createElement("img",{key:Math.random()+e.url,className:P.default.listPicture,src:e.url})})))}},{title:"\u4e66\u7c4d\uff0f\u6e38\u620f",dataIndex:"email",key:"book",width:120,render:function(e,t){return t.book?b.default.createElement("a",null,t.book.title):t.game?b.default.createElement("a",null,t.game.name):""}},{title:"\u4f5c\u8005",dataIndex:"author.nickname",width:100,key:"author",render:function(e,t){return b.default.createElement("a",{href:(0,M.makeUserInfoUrl)(t.author&&t.author._id)},t.author&&t.author.nickname)}},{title:"\u559c\u6b22/\u8bc4\u8bba/\u6295\u7968",key:"likeCount",width:120,render:function(e,t){return t.likeCount+"/"+t.commentCount+"/"+t.voteCount}},{title:"\u64cd\u4f5c",key:"operation",width:120,render:function(t,a,n){return b.default.createElement("span",null,b.default.createElement("a",{onClick:function(){return e.setHotPost(a,n)}},a.isSyncedTweetHot?"\u53d6\u6d88\u70ed\u95e8":"\u8bbe\u7f6e\u70ed\u95e8"),b.default.createElement("span",{className:"ant-divider"}),b.default.createElement("a",{onClick:function(){return e.deleteOrRecoverPost(a,n)}},a.deleted?"\u6062\u590d":"\u5220\u9664"))}}],d={onChange:function(t){e.setState({selects:t})}};return b.default.createElement("div",null,b.default.createElement(u.default,{disabled:0==this.state.selects.length,type:"primary",icon:"plus",onClick:function(){return r(e.state.selects)}},"\u6279\u91cf\u56de\u590d"),b.default.createElement(l.default,{rowSelection:d,bordered:!0,columns:i,dataSource:n,rowKey:function(e){return e._id},rowClassName:function(e){return e.deleted?P.default.deletedPost:""},pagination:o,onChange:this.props.onPageChange,loading:this.props.loading}))},t}(b.default.Component);t.default=S,S.contextTypes={store:E.default.object.isRequired},e.exports=t.default},908:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.posts,a=t.postList,n=t.pagination,o=t.commentAdd,l=t.commentModalVisible,u={dataSource:a,pagination:n,loading:e.loading,onPageChange:function(t){var a=e.location,n=a.query,o=a.pathname;e.dispatch(h.routerRedux.push({pathname:o,query:(0,r.default)({},n,{page:t.current,pageSize:t.pageSize})}))},batchReply:function(t){return e.dispatch({type:"posts/showCommentAddModal",payload:{postIds:t,replyIds:[]}})}},s={item:o,visible:l,onOk:function(t){e.dispatch({type:"posts/createComment",payload:t})},onCancel:function(){return e.dispatch({type:"posts/hideCommendAddModal"})}};return i.default.createElement("div",{className:"content-inner"},i.default.createElement(p.default,{location:e.location}),i.default.createElement(c.default,u),i.default.createElement(v.default,s))}Object.defineProperty(t,"__esModule",{value:!0});var l=a(3),r=n(l),u=a(1),i=n(u),s=a(2),d=(n(s),a(828)),c=n(d),f=a(827),p=n(f),h=a(75),m=a(16),y=a(431),v=n(y);t.default=(0,m.connect)(function(e){var t=e.posts,a=e.loading;return{posts:t,loading:a.models.posts}})(o),e.exports=t.default}});