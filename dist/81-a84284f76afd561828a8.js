webpackJsonp([81],{862:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,d,i=(a(93),a(92)),l=n(i),u=(a(11),a(10)),c=n(u),o=a(4),f=n(o),s=a(6),m=n(s),p=a(5),h=n(p),y=a(1),v=n(y),k=a(2),E=(n(k),a(16)),I=a(14),x=n(I),_=(r=(0,E.connect)(function(e){var t=e.activity,a=e.loading;return{activity:t,loading:a.models.activity}}),r(d=function(e){function t(){(0,f.default)(this,t);for(var a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return(0,m.default)(this,e.call.apply(e,[this].concat(n)))}return(0,h.default)(t,e),t.prototype.removeShare=function(e){var t=this.props.dispatch;t({type:"activity/removeShare",payload:{shareId:e}})},t.prototype.updateShare=function(e,t){var a=this.props.dispatch;a({type:"activity/updateShare",payload:{shareId:e,body:{status:t}}})},t.prototype.render=function(){var e=this,t=this.props.activity.shares,a=[{title:"\u5165\u53e3\u540d\u79f0",dataIndex:"name",key:"name",render:function(e,t){return v.default.createElement("a",{href:"#"},t.name)}},{title:"\u5206\u4eab\u4e3b\u9898",dataIndex:"description",key:"description"},{title:"\u9001\u4e66\u5377\u6570\u91cf",dataIndex:"num",key:"num"},{title:"\u5e73\u53f0",dataIndex:"platform",key:"platform",render:function(e,t){return t.platform.join(",")}},{title:"\u6807\u8bb0",key:"mark",dataIndex:"mark"},{title:"\u6743\u91cd",key:"weight",dataIndex:"weight"},{title:"\u65f6\u95f4",dataIndex:"created",key:"created",render:function(e,t){return v.default.createElement("div",null,v.default.createElement("div",null,"\u521b\u5efa:",(0,x.default)(t.created).format("YYYY-MM-DD HH:mm:ss")),v.default.createElement("div",null,"\u53d1\u5e03:",(0,x.default)(t.releaseTime).format("YYYY-MM-DD HH:mm:ss")))}},{title:"\u72b6\u6001",key:"status",dataIndex:"status",render:function(e,t){return 1===t.status?"\u5df2\u53d1\u5e03":"\u672a\u53d1\u5e03"}},{title:"\u64cd\u4f5c",key:"action",dataIndex:"action",width:120,render:function(t,a){return v.default.createElement("span",null,v.default.createElement("a",{href:"#/activities/share/"+a._id+"/edit"},"\u7f16\u8f91"),v.default.createElement("span",{className:"ant-divider"}),1===a.status?v.default.createElement("a",{onClick:function(){return e.updateShare(a._id,0)}},"\u64a4\u9500"):v.default.createElement("a",{onClick:function(){return e.updateShare(a._id,1)}},"\u53d1\u5e03"),v.default.createElement("span",{className:"ant-divider"}),v.default.createElement("a",{onClick:function(){return e.removeShare(a._id)}},"\u5220\u9664"))}}];return v.default.createElement("div",{className:"content-inner"},v.default.createElement(c.default,null,v.default.createElement("a",{href:"#/activities/share/add"},"\u65b0\u589e")),v.default.createElement(l.default,{bordered:!0,dataSource:t,columns:a,rowKey:function(e){return e._id}}))},t}(v.default.Component))||d);t.default=_,e.exports=t.default}});