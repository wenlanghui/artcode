webpackJsonp([27],{76:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(175);t.default=l.Col,e.exports=t.default},77:131,433:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserTable=void 0;var n=a(3),r=l(n),o=(a(11),a(10)),i=l(o),u=(a(53),a(52)),d=l(u),c=a(4),f=l(c),s=a(6),p=l(s),h=a(5),m=l(h),b=a(1),y=l(b),k=a(2),v=l(k),g=a(79),w=a(21),x=a(26),E=a(73),_={ramble:"\u7efc\u5408\u8ba8\u8bba",help:"\u4e66\u8352\u4e92\u52a9",review:"\u7cbe\u5f69\u4e66\u8bc4",original:"\u539f\u521b\u5199\u4f5c",dahua:"\u5927\u8bdd\u5386\u53f2",wangwen:"\u7f51\u6587\u6c5f\u6e56",yingxiong:"\u82f1\u96c4\u8054\u76df",erciyuan:"\u4e8c\u6b21\u5143",gaoneng:"\u9ad8\u80fd\u5c11\u5e74\u56e2",girl:"\u5973\u751f\u5bc6\u8bed"},C=t.UserTable=function(e){function t(a){return(0,f.default)(this,t),(0,p.default)(this,e.call(this,a))}return(0,m.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.location,a=e.loading,l=e.dataSource,n=e.pagination,o=e.onStatusSwitchChange,u=e.statusDisabled,c=e.blockManageShow,f=e.bookManageShow,s=e.onViewUserMessageButtonClick,p=e.onViewUserShelfButtonClick,h=[{title:"\u59d3\u540d",dataIndex:"nickname",key:"nickname",width:200,render:function(e,t){return y.default.createElement("a",{href:"/#/users/info?_id="+(t.userId||t._id),style:{marginRight:4}},e)}},{title:"\u6027\u522b",dataIndex:"gender",key:"gender",filterMultiple:!1,filters:[{text:"male",value:"male"},{text:"female",value:"female"},{text:"null",value:"null"}],width:80,render:function(e,t){return y.default.createElement("span",{style:{color:t.genderChanged?"#ABABAB":""}},e)}},{title:"\u7b49\u7ea7",dataIndex:"lv",key:"lv",sorter:!0,width:80},{title:"\u7ecf\u9a8c\u503c",dataIndex:"exp",key:"exp",sorter:!0,width:80},{title:"vipLv",dataIndex:"vipLv",key:"vipLv",sorter:!0,width:80},{title:"vipExp",dataIndex:"vipExp",key:"vipExp",sorter:!0,width:80},{title:"\u5305\u6708\uff1f",dataIndex:"monthly",key:"monthly",filterMultiple:!1,filters:[{text:"\u5305\u6708",value:"true"},{text:"\u975e\u5305\u6708",value:"false"}],width:80,render:(0,x.has)("monthly","\u662f","")},{title:"\u52a8\u6001\u6570",dataIndex:"tweets",key:"tweets",sorter:!0,width:80},{title:"\u7c89\u4e1d\u6570",dataIndex:"followers",key:"followers",sorter:!0,width:80},{title:"\u5173\u6ce8\u6570",dataIndex:"followings",key:"followings",sorter:!0,width:80},{title:"\u8ba4\u8bc1",dataIndex:"type",key:"type",filterMultiple:!1,filters:[{text:"\u5b98\u65b9",value:"official"},{text:"\u8fbe\u4eba",value:"doyen"},{text:"\u7248\u4e3b",value:"moderator"},{text:"\u4f5c\u8005",value:"author"},{text:"\u4e66\u8bc4\u4eba",value:"commentator"}],width:100},{title:"\u677f\u5757",hidden:!c,dataIndex:"blockManager",key:"blockManager",width:80,render:function(e,t){var a=t.blockManager||[];return a.map(function(e){return y.default.createElement("p",{key:(0,g.uniqueId)()},_[e])})}},{title:"\u4e66\u7c4d",hidden:!f,dataIndex:"bookManager",key:"bookManager",width:200,render:function(e,t){var a=t.bookManager||[];return a.map(function(e){return y.default.createElement("p",{key:(0,g.uniqueId)()},e)})}},{title:"\u7ed1\u5b9a\u5e73\u53f0",dataIndex:"bind",key:"bind",width:100,render:function(e){var t={fontSize:"10px"};return e.SinaWeibo?y.default.createElement("span",{style:t},"WB"):e.QQ?y.default.createElement("span",{style:t},"QQ"):e.Weixin?y.default.createElement("span",{style:t},"WX"):"-"}},{title:"\u72b6\u6001",dataIndex:"banned",key:"banned",width:100,filterMultiple:!1,filters:[{text:"\u6b63\u5e38",value:"false"},{text:"\u5c01\u7981",value:"true"}],disabled:u,render:function(e,t,a){return y.default.createElement(d.default,{disabled:!t.banned,onChange:function(e){return o(e,t,a)},checked:t.banned,checkedChildren:"\u89e3\u7981",unCheckedChildren:"\u5c01\u7981"})}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"created",key:"created",width:180,render:function(e,t){return t.created=(0,E.dateFromObjectId)(t._id),(0,x.formatColumnDatetime)("created")(e,t)}},{title:"\u64cd\u4f5c",key:"operation",width:200,render:function(e,t){return y.default.createElement("p",null,y.default.createElement(i.default,{size:"small",onClick:function(){return s(t)}},"\u6d88\u606f"),y.default.createElement(i.default,{size:"small",onClick:function(){return p(t)}},"\u4e66\u67b6"),y.default.createElement("a",{href:"/#/users/record/"+t._id,style:{marginRight:2}},y.default.createElement(i.default,{size:"small"},"\u660e\u7ec6")))}}];return y.default.createElement("div",null,y.default.createElement(w.ExtExtTable,(0,r.default)({},this.props,{location:t,columns:h,dataSource:l,loading:a,pagination:n})))},t}(y.default.Component);C.propTypes={loading:v.default.bool,statusDisabled:v.default.bool,blockManageShow:v.default.bool,bookManageShow:v.default.bool,dataSource:v.default.array,pagination:v.default.object,location:v.default.object,onStatusSwitchChange:v.default.func,onViewUserMessageButtonClick:v.default.func,onViewUserShelfButtonClick:v.default.func}},434:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=(a(72),a(71)),r=l(n),o=(a(17),a(19)),i=l(o),u=a(3),d=l(u),c=(a(46),a(42)),f=l(c),s=(a(25),a(24)),p=l(s),h=a(1),m=l(h),b=a(2),y=l(b),k=p.default.Item,v=(f.default.Option,{labelCol:{span:6},wrapperCol:{span:14}}),g=function(e){function t(){h(function(e){if(!e){var t=(0,d.default)({},b(),{key:o.key});u(t),y()}})}var a=e.visible,l=e.type,n=e.item,o=void 0===n?{}:n,u=e.onOk,c=e.onCancel,f=(e.onSelect,e.form),s=f.getFieldDecorator,h=f.validateFields,b=f.getFieldsValue,y=(f.setFieldsValue,f.resetFields),g={title:""+("create"===l?"\u65b0\u5efa\u7528\u6237":"\u4fee\u6539\u7528\u6237"),visible:a,onOk:t,onCancel:c,wrapClassName:"vertical-center-modal"},w={_id:"",nickname:""};return m.default.createElement(r.default,g,m.default.createElement(p.default,{horizontal:!0},"create"===l?null:m.default.createElement(k,(0,d.default)({label:"ID:",hasFeedback:!0},v),s("_id",{initialValue:o._id,rules:[{required:!0,message:"ID\u672a\u586b\u5199"}]})(m.default.createElement(i.default,{disabled:!0}))),m.default.createElement(k,(0,d.default)({label:"\u59d3\u540d:",hasFeedback:!0},v),s("nickname",{initialValue:"create"===l?w.nickname:o.nickname,rules:[{required:!0,message:"\u59d3\u540d\u672a\u586b\u5199"}]})(m.default.createElement(i.default,{disabled:"create"!=l}))),"/* ","create"===l?m.default.createElement(k,(0,d.default)({label:"\u5bc6\u7801:",hasFeedback:!0},v),s("password",{initialValue:"create"===l?w.password:o.password,rules:[{required:!0,message:"\u5bc6\u7801\u672a\u586b\u5199"}]})(m.default.createElement(i.default,{type:"password"}))):null,m.default.createElement(k,(0,d.default)({label:"\u7535\u8bdd:",hasFeedback:!0},v),s("cellphone",{initialValue:"create"===l?w.cellphone:o.cellphone,rules:[{required:!0,message:"\u7535\u8bdd\u672a\u586b\u5199"}]})(m.default.createElement(i.default,null))),m.default.createElement(k,(0,d.default)({label:"\u90ae\u7bb1:",hasFeedback:!0},v),s("email",{initialValue:"create"===l?w.email:o.email,rules:[{required:!0,type:"email",message:"\u90ae\u7bb1\u586b\u5199\u9519\u8bef"}]})(m.default.createElement(i.default,{type:"email"})))," */"))};g.propTypes={visible:y.default.any,form:y.default.object,item:y.default.object,onOk:y.default.func,onCancel:y.default.func,onSelect:y.default.func},t.default=p.default.create()(g),e.exports=t.default},843:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=(a(25),a(24)),r=l(n),o=(a(131),a(130)),i=l(o),u=(a(77),a(76)),d=l(u),c=(a(17),a(19)),f=l(c),s=a(1),p=l(s),h=a(2),m=l(h),b=f.default.Search,y=function(e){var t=e.search;return p.default.createElement(i.default,{type:"flex",justify:"",style:{marginBottom:15}},p.default.createElement(d.default,null,p.default.createElement(b,{placeholder:"\u67e5\u8be2\u7528\u6237\u6635\u79f0",style:{width:200},onSearch:t})))};y.propTypes={search:m.default.func},t.default=r.default.create()(y),e.exports=t.default},844:function(e,t,a){"use strict";function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserBookShelfTableModal=t.UserBookShelfTable=void 0;var r=(a(72),a(71)),o=n(r),i=a(4),u=n(i),d=a(6),c=n(d),f=a(5),s=n(f),p=a(1),h=n(p),m=a(2),b=n(m),y=a(21),k=a(26),v=l(k),g=a(122),w=t.UserBookShelfTable=function(e){function t(a){return(0,u.default)(this,t),(0,c.default)(this,e.call(this,a))}return(0,s.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.location,a=e.loading,l=e.dataSource,n=e.title,r=[{title:"\u4e66\u540d",dataIndex:"title",key:"title",width:300,render:g.columnBookTitleRender},{title:"\u4f5c\u8005",dataIndex:"author",key:"author",sorter:!0,width:200},{title:"CP\u6e90",dataIndex:"hasCp",key:"hasCp",width:100,filterMultiple:!1,filters:[{text:"\u6709",value:!0},{text:"\u65e0",value:!1}],render:v.has("hasCp","\u6709","\u65e0")},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updated",key:"updated",sorter:!0,width:200,render:v.formatColumnDatetime("updated")}];return h.default.createElement("div",null,h.default.createElement(y.ExtExtTable,{location:t,title:n,columns:r,dataSource:l,loading:a,pagination:!1}))},t}(h.default.Component);w.propTypes={loading:b.default.bool,dataSource:b.default.array,pagination:b.default.object,location:b.default.object,title:b.default.func};var x=t.UserBookShelfTableModal=function(e){function t(a){return(0,u.default)(this,t),(0,c.default)(this,e.call(this,a))}return(0,s.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.onCancel,a=e.users,l=e.location,n=a.user,r=a.bookShelfModalVisible,i=a.bookShelf,u=a.bookShelfLoading,d={width:800,footer:null,title:"\u7528\u6237 "+n.nickname+" \u7684\u4e66\u67b6\uff1a\u4e66\u67b6\u4e66\u7c4d "+i.bookshelf.length+" \u6761\uff0c\u517b\u80a5\u4e66\u7c4d "+i.feedingBooks.length+" \u6761",visible:r,onCancel:t,wrapClassName:"vertical-center-modal"};return h.default.createElement(o.default,d,h.default.createElement(w,{title:function(){return"\u4e66\u67b6\u4e66\u7c4d"},loading:u,location:l,dataSource:i.bookshelf}),h.default.createElement("hr",{style:{marginTop:"6px",marginBottom:"6px"}}),h.default.createElement(w,{title:function(){return"\u517b\u80a5\u4e66\u7c4d"},loading:u,location:l,dataSource:i.feedingBooks}))},t}(h.default.Component);x.propTypes={visible:b.default.bool,onCancel:b.default.func,users:b.default.object,location:b.default.object}},845:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserNotificationTableModal=t.UserNotificationTable=void 0;var n=(a(72),a(71)),r=l(n),o=a(4),i=l(o),u=a(6),d=l(u),c=a(5),f=l(c),s=a(1),p=l(s),h=a(2),m=l(h),b=a(21),y=a(26),k={post_push:"\u8bdd\u9898\u63a8\u9001",link_push:"\u94fe\u63a5\u63a8\u9001",post_distillate:"\u8bdd\u9898\u52a0\u7cbe",post_hot:"\u8bdd\u9898\u52a0\u70ed",post_reply:"\u8bdd\u9898\u56de\u590d",comment_reply:"\u8bc4\u8bba\u56de\u590d",post_like:"\u8bdd\u9898\u70b9\u8d5e",comment_like:"\u8bc4\u8bba\u70b9\u8d5e",post_vote:"\u8bdd\u9898\u6295\u7968"},v=t.UserNotificationTable=function(e){function t(a){return(0,i.default)(this,t),(0,d.default)(this,e.call(this,a))}return(0,f.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.location,a=e.loading,l=e.dataSource,n=e.pagination,r=e.title,o=[{title:"\u65f6\u95f4",dataIndex:"created",key:"created",width:200,render:(0,y.formatColumnDatetime)("created")},{title:"\u4e8b\u4ef6",dataIndex:"type",key:"type",width:200,render:function(e){return k[e]}},{title:"\u94fe\u63a5",dataIndex:"link",key:"link",width:400,render:function(e,t){if("link_push"===t.type)return p.default.createElement("a",{href:t.link},t.link);var a=t.myPost||t.post||{};return p.default.createElement("a",{href:"/posts/"+a._id},"$",a.title)}}];return p.default.createElement("div",null,p.default.createElement(b.ExtExtTable,{location:t,title:r,columns:o,dataSource:l,loading:a,pagination:n}))},t}(p.default.Component);v.propTypes={loading:m.default.bool,dataSource:m.default.array,pagination:m.default.object,location:m.default.object,title:m.default.func};var g=t.UserNotificationTableModal=function(e){function t(a){return(0,i.default)(this,t),(0,d.default)(this,e.call(this,a))}return(0,f.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.onCancel,a=e.users,l=e.location,n=a.user,o=a.notificationModalVisible,i=a.notifications,u=a.notificationLoading,d={width:1e3,footer:null,title:"\u7528\u6237 "+n.nickname+" \u7684\u6d88\u606f\uff1a"+i.length+"\u6761",visible:o,onCancel:t,wrapClassName:"vertical-center-modal"};return p.default.createElement(r.default,d,p.default.createElement(v,{loading:u,location:l,dataSource:i}))},t}(p.default.Component);g.propTypes={visible:m.default.bool,onCancel:m.default.func,users:m.default.object,location:m.default.object}},934:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=e.location,a=e.dispatch,l=e.users,n=l.loading,r=l.list,o=l.pagination,u=l.currentItem,c=l.modalVisible,f=l.modalType,p=(0,w.warpDispatch)(a,x.namespace,{location:t}),h={item:"create"===f?{}:u,type:f,visible:c,onOk:function(e){a({type:"users/"+f,payload:{data:e,location:t}})},onCancel:function(){a({type:"users/hideModal"})}},v={location:t,dataSource:r,loading:n,pagination:o,onPageChange:function(e){var l=t.query,n=t.pathname;a(s.routerRedux.push({pathname:n,query:(0,i.default)({},l,{page:e.current,pageSize:e.pageSize})}))},onEditItem:function(e){a({type:"users/showModal",payload:{modalType:"update",currentItem:e}})},onStatusSwitchChange:function(e,t){p("updateBannedStatus",{item:t,data:{_id:t._id,banned:e}})},onViewUserMessageButtonClick:function(e){p("showUserNotifications",{user:e})},onViewUserShelfButtonClick:function(e){p("showUserBookShelf",{user:e})}},E={search:function(e){var l=t.query,n=t.pathname;a(s.routerRedux.push({pathname:n,query:(0,i.default)({},l,{nickname:e})}))}},_={users:l,location:t,onCancel:function(){return p("hideUserBookShelf")}},C={users:l,location:t,onCancel:function(){return p("hideUserNotifications")}};return d.default.createElement("div",{className:"content-inner"},d.default.createElement(m.default,E),d.default.createElement(b.UserTable,v),d.default.createElement(g.default,h),d.default.createElement(y.UserBookShelfTableModal,_),d.default.createElement(k.UserNotificationTableModal,C))}function r(e){var t=e.users;return{users:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(3),i=l(o),u=a(1),d=l(u),c=a(2),f=l(c),s=a(75),p=a(16),h=a(843),m=l(h),b=a(433),y=a(844),k=a(845),v=a(434),g=l(v),w=a(91),x=a(385);n.propTypes={users:f.default.object,allow:f.default.object,location:f.default.object,dispatch:f.default.func},t.default=(0,p.connect)(r)(n),e.exports=t.default}});