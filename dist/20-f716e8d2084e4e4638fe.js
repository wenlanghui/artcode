webpackJsonp([20],{76:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(175);t.default=l.Col,e.exports=t.default},77:131,522:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),r=l(n),o=a(13),i=l(o),u=a(6),d=l(u),f=a(5),s=l(f),c=a(1),p=l(c),h=a(58),m=l(h),v=a(19),y=l(v),g=function(e){function t(){(0,r.default)(this,t);var e=(0,d.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleChange=function(t){var a=e.props.onChange;a&&a(t)},e.handleClear=function(t){t.preventDefault();var a=e.props.handleClear;a&&a(t)},e}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,a=e.value,l=e.prefixCls,n=a&&a.length>0?p.default.createElement("a",{href:"#",className:l+"-action",onClick:this.handleClear},p.default.createElement(m.default,{type:"cross-circle"})):p.default.createElement("span",{className:l+"-action"},p.default.createElement(m.default,{type:"search"}));return p.default.createElement("div",null,p.default.createElement(y.default,{placeholder:t,className:l,value:a,ref:"input",onChange:this.handleChange}),n)}}]),t}(p.default.Component);t.default=g,g.defaultProps={placeholder:""},e.exports=t.default},707:function(e,t){"use strict";function a(e,t){if("createEvent"in document){var a=document.createEvent("HTMLEvents");a.initEvent(t,!1,!0),e.dispatchEvent(a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,e.exports=t.default},756:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(){}Object.defineProperty(t,"__esModule",{value:!0});var r=a(56),o=l(r),i=a(12),u=l(i),d=a(4),f=l(d),s=a(13),c=l(s),p=a(6),h=l(p),m=a(5),v=l(m),y=a(1),g=l(y),b=a(2),S=l(b),E=a(15),C=l(E),O=a(758),_=l(O),k=a(759),w=l(k),x=a(522),T=l(x),L=a(384),j=l(L),K=function(e){function t(e){(0,f.default)(this,t);var a=(0,h.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.moveTo=function(e){var t=a.props,l=t.targetKeys,n=void 0===l?[]:l,r=t.dataSource,o=void 0===r?[]:r,i=t.onChange,d=a.state,f=d.sourceSelectedKeys,s=d.targetSelectedKeys,c="right"===e?f:s,p=c.filter(function(e){return!o.some(function(t){return!(e!==t.key||!t.disabled)})}),h="right"===e?p.concat(n):n.filter(function(e){return p.indexOf(e)===-1}),m="right"===e?"left":"right";a.setState((0,u.default)({},a.getSelectedKeysName(m),[])),a.handleSelectChange(m,[]),i&&i(h,e,p)},a.moveToLeft=function(){return a.moveTo("left")},a.moveToRight=function(){return a.moveTo("right")},a.handleSelectAll=function(e,t,l){var n=a.state[a.getSelectedKeysName(e)]||[],r=t.map(function(e){return e.key}),i=n.filter(function(e){return r.indexOf(e)===-1}),d=[].concat((0,o.default)(n));r.forEach(function(e){d.indexOf(e)===-1&&d.push(e)});var f=l?i:d;a.handleSelectChange(e,f),a.props.selectedKeys||a.setState((0,u.default)({},a.getSelectedKeysName(e),f))},a.handleLeftSelectAll=function(e,t){return a.handleSelectAll("left",e,t)},a.handleRightSelectAll=function(e,t){return a.handleSelectAll("right",e,t)},a.handleFilter=function(e,t){a.setState((0,u.default)({},e+"Filter",t.target.value)),a.props.onSearchChange&&a.props.onSearchChange(e,t)},a.handleLeftFilter=function(e){return a.handleFilter("left",e)},a.handleRightFilter=function(e){return a.handleFilter("right",e)},a.handleClear=function(e){a.setState((0,u.default)({},e+"Filter",""))},a.handleLeftClear=function(){return a.handleClear("left")},a.handleRightClear=function(){return a.handleClear("right")},a.handleSelect=function(e,t,l){var n=a.state,r=n.sourceSelectedKeys,i=n.targetSelectedKeys,d="left"===e?[].concat((0,o.default)(r)):[].concat((0,o.default)(i)),f=d.indexOf(t.key);f>-1&&d.splice(f,1),l&&d.push(t.key),a.handleSelectChange(e,d),a.props.selectedKeys||a.setState((0,u.default)({},a.getSelectedKeysName(e),d))},a.handleLeftSelect=function(e,t){return a.handleSelect("left",e,t)},a.handleRightSelect=function(e,t){return a.handleSelect("right",e,t)},a.handleScroll=function(e,t){var l=a.props.onScroll;l&&l(e,t)},a.handleLeftScroll=function(e){return a.handleScroll("left",e)},a.handleRightScroll=function(e){return a.handleScroll("right",e)};var l=e.selectedKeys,n=void 0===l?[]:l,r=e.targetKeys,i=void 0===r?[]:r;return a.state={leftFilter:"",rightFilter:"",sourceSelectedKeys:n.filter(function(e){return i.indexOf(e)===-1}),targetSelectedKeys:n.filter(function(e){return i.indexOf(e)>-1})},a}return(0,v.default)(t,e),(0,c.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,a=t.sourceSelectedKeys,l=t.targetSelectedKeys;if((e.targetKeys!==this.props.targetKeys||e.dataSource!==this.props.dataSource)&&(this.splitedDataSource=null,!e.selectedKeys)){var n=e.dataSource,r=e.targetKeys,o=void 0===r?[]:r,i=[],u=[];n.forEach(function(e){var t=e.key;a.includes(t)&&!o.includes(t)&&i.push(t),l.includes(t)&&o.includes(t)&&u.push(t)}),this.setState({sourceSelectedKeys:i,targetSelectedKeys:u})}if(e.selectedKeys){var d=e.targetKeys;this.setState({sourceSelectedKeys:e.selectedKeys.filter(function(e){return!d.includes(e)}),targetSelectedKeys:e.selectedKeys.filter(function(e){return d.includes(e)})})}}},{key:"splitDataSource",value:function(e){if(this.splitedDataSource)return this.splitedDataSource;var t=e.dataSource,a=e.rowKey,l=e.targetKeys,n=void 0===l?[]:l,r=[],o=new Array(n.length);return t.forEach(function(e){a&&(e.key=a(e));var t=n.indexOf(e.key);t!==-1?o[t]=e:r.push(e)}),this.splitedDataSource={leftDataSource:r,rightDataSource:o},this.splitedDataSource}},{key:"handleSelectChange",value:function(e,t){var a=this.state,l=a.sourceSelectedKeys,n=a.targetSelectedKeys,r=this.props.onSelectChange;r&&("left"===e?r(t,n):r(l,t))}},{key:"getTitles",value:function(){var e=this.props;if(e.titles)return e.titles;var t=this.getLocale();return t.titles}},{key:"getSelectedKeysName",value:function(e){return"left"===e?"sourceSelectedKeys":"targetSelectedKeys"}},{key:"render",value:function e(){var t=this.getLocale(),a=this.props,l=a.prefixCls,n=void 0===l?"ant-transfer":l,r=a.className,o=a.operations,i=void 0===o?[]:o,u=a.showSearch,d=a.notFoundContent,f=void 0===d?t.notFoundContent:d,s=a.searchPlaceholder,c=void 0===s?t.searchPlaceholder:s,p=a.body,h=a.footer,m=a.listStyle,v=a.filterOption,e=a.render,y=a.lazy,b=this.state,S=b.leftFilter,E=b.rightFilter,O=b.sourceSelectedKeys,k=b.targetSelectedKeys,x=this.splitDataSource(this.props),T=x.leftDataSource,L=x.rightDataSource,j=k.length>0,K=O.length>0,P=(0,C.default)(r,n),N=this.getTitles();return g.default.createElement("div",{className:P},g.default.createElement(_.default,{prefixCls:n+"-list",titleText:N[0],dataSource:T,filter:S,filterOption:v,style:m,checkedKeys:O,handleFilter:this.handleLeftFilter,handleClear:this.handleLeftClear,handleSelect:this.handleLeftSelect,handleSelectAll:this.handleLeftSelectAll,render:e,showSearch:u,searchPlaceholder:c,notFoundContent:f,itemUnit:t.itemUnit,itemsUnit:t.itemsUnit,body:p,footer:h,lazy:y,onScroll:this.handleLeftScroll}),g.default.createElement(w.default,{className:n+"-operation",rightActive:K,rightArrowText:i[0],moveToRight:this.moveToRight,leftActive:j,leftArrowText:i[1],moveToLeft:this.moveToLeft}),g.default.createElement(_.default,{prefixCls:n+"-list",titleText:N[1],dataSource:L,filter:E,filterOption:v,style:m,checkedKeys:k,handleFilter:this.handleRightFilter,handleClear:this.handleRightClear,handleSelect:this.handleRightSelect,handleSelectAll:this.handleRightSelectAll,render:e,showSearch:u,searchPlaceholder:c,notFoundContent:f,itemUnit:t.itemUnit,itemsUnit:t.itemsUnit,body:p,footer:h,lazy:y,onScroll:this.handleRightScroll}))}}]),t}(g.default.Component);K.List=_.default,K.Operation=w.default,K.Search=T.default,K.defaultProps={dataSource:[],render:n,showSearch:!1},K.propTypes={prefixCls:S.default.string,dataSource:S.default.array,render:S.default.func,targetKeys:S.default.array,onChange:S.default.func,height:S.default.number,listStyle:S.default.object,className:S.default.string,titles:S.default.array,operations:S.default.array,showSearch:S.default.bool,filterOption:S.default.func,searchPlaceholder:S.default.string,notFoundContent:S.default.node,body:S.default.func,footer:S.default.func,rowKey:S.default.func,lazy:S.default.oneOfType([S.default.object,S.default.bool])};var P=(0,j.default)("Transfer",{titles:["",""],searchPlaceholder:"Search",notFoundContent:"Not Found"});t.default=P(K),e.exports=t.default},757:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),r=l(n),o=a(12),i=l(o),u=a(4),d=l(u),f=a(13),s=l(f),c=a(6),p=l(c),h=a(5),m=l(h),v=a(1),y=l(v),g=a(15),b=l(g),S=a(378),E=l(S),C=a(1396),O=l(C),_=a(41),k=l(_),w=function(e){function t(){return(0,d.default)(this,t),(0,p.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,m.default)(t,e),(0,s.default)(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return E.default.shouldComponentUpdate.apply(this,t)}},{key:"render",value:function(){var e,t=this.props,a=t.renderedText,l=t.renderedEl,n=t.item,o=t.lazy,u=t.checked,d=t.prefixCls,f=t.onClick,s=(0,b.default)((e={},(0,i.default)(e,d+"-content-item",!0),(0,i.default)(e,d+"-content-item-disabled",n.disabled),e)),c=y.default.createElement("li",{className:s,title:a,onClick:n.disabled?void 0:function(){return f(n)}},y.default.createElement(k.default,{checked:u,disabled:n.disabled}),y.default.createElement("span",null,l)),p=null;if(o){var h=(0,r.default)({height:32,offset:500,throttle:0,debounce:!1},o);p=y.default.createElement(O.default,h,c)}else p=c;return p}}]),t}(y.default.Component);t.default=w,e.exports=t.default},758:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(){}function r(e){return e&&!b.default.isValidElement(e)&&"[object Object]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(12),i=l(o),u=a(3),d=l(u),f=a(4),s=l(f),c=a(13),p=l(c),h=a(6),m=l(h),v=a(5),y=l(v),g=a(1),b=l(g),S=a(51),E=a(15),C=l(E),O=a(190),_=l(O),k=a(378),w=l(k),x=a(41),T=l(x),L=a(522),j=l(L),K=a(757),P=l(K),N=a(707),A=l(N),z=function(e){function t(e){(0,s.default)(this,t);var a=(0,m.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleSelect=function(e){var t=a.props.checkedKeys,l=t.some(function(t){return t===e.key});a.props.handleSelect(e,!l)},a.handleFilter=function(e){a.props.handleFilter(e),e.target.value&&(a.triggerScrollTimer=setTimeout(function(){var e=(0,S.findDOMNode)(a).querySelectorAll(".ant-transfer-list-content")[0];e&&(0,A.default)(e,"scroll")},0))},a.handleClear=function(){a.props.handleClear()},a.matchFilter=function(e,t){var l=a.props,n=l.filter,r=l.filterOption;return r?r(n,t):e.indexOf(n)>=0},a.renderItem=function(e){var t=a.props.render,l=void 0===t?n:t,o=l(e),i=r(o);return{renderedText:i?o.value:o,renderedEl:i?o.label:o}},a.state={mounted:!1},a}return(0,y.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout(function(){e.setState({mounted:!0})},0)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer),clearTimeout(this.triggerScrollTimer)}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return w.default.shouldComponentUpdate.apply(this,t)}},{key:"getCheckStatus",value:function(e){var t=this.props.checkedKeys;return 0===t.length?"none":e.every(function(e){return t.indexOf(e.key)>=0})?"all":"part"}},{key:"render",value:function(){var e=this,t=this.props,a=t.prefixCls,l=t.dataSource,r=t.titleText,o=t.checkedKeys,u=t.lazy,f=t.body,s=void 0===f?n:f,c=t.footer,p=void 0===c?n:c,h=t.showSearch,m=t.style,v=t.filter,y=t.searchPlaceholder,g=t.notFoundContent,S=t.itemUnit,E=t.itemsUnit,O=t.onScroll,k=p((0,d.default)({},this.props)),w=s((0,d.default)({},this.props)),x=(0,C.default)(a,(0,i.default)({},a+"-with-footer",!!k)),L=[],K=[],N=l.map(function(t){var l=e.renderItem(t),n=l.renderedText,r=l.renderedEl;if(v&&v.trim()&&!e.matchFilter(n,t))return null;K.push(t),t.disabled||L.push(t);var i=o.indexOf(t.key)>=0;return b.default.createElement(P.default,{key:t.key,item:t,lazy:u,renderedText:n,renderedEl:r,checked:i,prefixCls:a,onClick:e.handleSelect})}),A=l.length>1?E:S,z=h?b.default.createElement("div",{className:a+"-body-search-wrapper"},b.default.createElement(j.default,{prefixCls:a+"-search",onChange:this.handleFilter,handleClear:this.handleClear,placeholder:y,value:v})):null,F=w||b.default.createElement("div",{className:h?a+"-body "+a+"-body-with-search":a+"-body"},z,b.default.createElement(_.default,{component:"ul",componentProps:{onScroll:O},className:a+"-content",transitionName:this.state.mounted?a+"-content-item-highlight":"",transitionLeave:!1},N),b.default.createElement("div",{className:a+"-body-not-found"},g)),M=k?b.default.createElement("div",{className:a+"-footer"},k):null,I=this.getCheckStatus(L),V="all"===I,U=b.default.createElement(T.default,{ref:"checkbox",checked:V,indeterminate:"part"===I,onChange:function(){return e.props.handleSelectAll(L,V)}});return b.default.createElement("div",{className:x,style:m},b.default.createElement("div",{className:a+"-header"},U,b.default.createElement("span",{className:a+"-header-selected"},b.default.createElement("span",null,(o.length>0?o.length+"/":"")+K.length," ",A),b.default.createElement("span",{className:a+"-header-title"},r))),F,M)}}]),t}(b.default.Component);t.default=z,z.defaultProps={dataSource:[],titleText:"",showSearch:!1,render:n,lazy:{}},e.exports=t.default},759:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(){}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),o=l(r),i=a(13),u=l(i),d=a(6),f=l(d),s=a(5),c=l(s),p=a(1),h=l(p),m=a(10),v=l(m),y=a(58),g=l(y),b=function(e){function t(){return(0,o.default)(this,t),(0,f.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props,t=e.moveToLeft,a=e.moveToRight,l=e.leftArrowText,n=e.rightArrowText,r=e.leftActive,o=e.rightActive,i=e.className,u=h.default.createElement(v.default,{type:"primary",size:"small",disabled:!r,onClick:t},h.default.createElement("span",null,h.default.createElement(g.default,{type:"left"}),l)),d=h.default.createElement(v.default,{type:"primary",size:"small",disabled:!o,onClick:a},h.default.createElement("span",null,n,h.default.createElement(g.default,{type:"right"})));return h.default.createElement("div",{className:i},u,d)}}]),t}(h.default.Component);t.default=b,b.defaultProps={leftArrowText:"",rightArrowText:"",moveToLeft:n,moveToRight:n},e.exports=t.default},760:function(e,t,a){"use strict";a(35),a(1139),a(50),a(11),a(17)},787:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,o=(a(131),a(130)),i=l(o),u=(a(46),a(42)),d=l(u),f=(a(77),a(76)),s=l(f),c=(a(17),a(19)),p=l(c),h=(a(297),a(296)),m=l(h),v=(a(11),a(10)),y=l(v),g=(a(128),a(58)),b=l(g),S=(a(760),a(756)),E=l(S),C=a(3),O=l(C),_=(a(39),a(36)),k=l(_),w=(a(98),a(97)),x=l(w),T=a(4),L=l(T),j=a(6),K=l(j),P=a(5),N=l(P),A=(a(25),a(24)),z=l(A),F=a(1),M=l(F),I=a(2),V=(l(I),a(78)),U=l(V),D=a(176),R=(n=z.default.create(),n(r=function(e){function t(){(0,L.default)(this,t);for(var a=arguments.length,l=Array(a),n=0;n<a;n++)l[n]=arguments[n];var r=(0,K.default)(this,e.call.apply(e,[this].concat(l)));return r.state={target:"specific",targetValidate:{validateStatus:"success",help:""},targetChannels:[],otherShow:!1},r.id="",r}return(0,N.default)(t,e),t.prototype.componentWillMount=function(){var e=this.props,t=e.dispatch,a=e.location;this.id=a.query.id||"",t({type:"activity/getAppUpdateAndroid",payload:{id:this.id}})},t.prototype.componentWillReceiveProps=function(e){e.activity.updateInfo._id!=this.props.activity.updateInfo._id&&this.setState({targetChannels:[e.activity.updateInfo.channel],otherShow:"()"===e.activity.updateInfo.operator||"[]"===e.activity.updateInfo.operator})},t.prototype.createUpdate=function(e){var t=this;e.preventDefault();var a=this.props,l=a.dispatch,n=a.form;n.validateFields(function(e,a){if(e&&e.condition&&t.setState({targetValidate:{validateStatus:"error",help:"\u8bf7\u8f93\u5165\u6807\u5fd7\u7248\u672c\u53f7"}}),!e){a.condition={operator:a.operator,value:a.condition},"()"!==a.operator&&"[]"!==a.operator&&delete a.conditionOther;var n=function(){t.props.router.goBack()};t.id?(a.id=t.id,l({type:"activity/updateAppUpdate",payload:{body:a,type:"android",success:n}})):l({type:"activity/addAppUpdate",payload:{body:a,type:"android",success:n}})}})},t.prototype.targetChange=function(e){this.setState({target:e.target.value})},t.prototype.getApkUrl=function(e){return e&&e.file&&e.file.response?e.file.response.url:""},t.prototype.channelChange=function(e){this.setState({targetChannels:e})},t.prototype.operatorSelect=function(e){this.setState({otherShow:"()"===e||"[]"===e})},t.prototype.render=function(){var e=this,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14,offset:1}}},l={name:"apk",data:{free:this.props.form.getFieldValue("free")||!1},headers:{Authorization:D.accountCache.get()?D.accountCache.get().token:null},action:U.default.url+"activities/app/update/android/apk",showUploadList:!0,onChange:function(t){"done"===t.file.status&&e.props.form.setFieldsValue({version:t.file.response.apkInfo.packageVersionName,versionCode:t.file.response.apkInfo.packageVersionCode})},beforeUpload:function(e){if(!/(.*)\.apk$/.test(e.name))return x.default.error("\u53ea\u652f\u6301APK\u6587\u4ef6\u4e0a\u4f20"),!1}},n=this.props.activity,r=n.channels,o=n.updateInfo;return r=r.map(function(t){return{key:t,title:t,disabled:!!e.id}}),M.default.createElement(z.default,{onSubmit:this.createUpdate.bind(this)},M.default.createElement(z.default.Item,(0,O.default)({},a,{label:"\u7248\u672c\u7c7b\u578b"}),t("free",{initialValue:o.free||!1,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u7248\u672c\u7c7b\u578b"}]})(M.default.createElement(k.default.Group,{disabled:!!this.id},M.default.createElement(k.default,{value:!1},"\u6b63\u5f0f\u7248"),M.default.createElement(k.default,{value:!0},"\u514d\u8d39\u7248")))),M.default.createElement(z.default.Item,(0,O.default)({},a,{label:"\u66f4\u65b0\u6e20\u9053"}),t("channels",{initialValue:o.channel?[o.channel]:[],rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u66f4\u65b0\u6e20\u9053"}]})(M.default.createElement(E.default,{dataSource:r,targetKeys:this.state.targetChannels,onChange:this.channelChange.bind(this),render:function(e){return e.title}}))),M.default.createElement(z.default.Item,(0,O.default)({},a,{label:"\u4e0a\u4f20APK"}),t("apk",{getValueFromEvent:this.getApkUrl.bind(this),initialValue:o.apk||"",rules:[{required:!0,message:"\u8bf7\u4e0a\u4f20APK"}]})(M.default.createElement(m.default,l,M.default.createElement(y.default,{disabled:!!this.id},M.default.createElement(b.default,{type:"upload"}),"\u4e0a\u4f20APK"))),M.default.createElement("span",null,o.apk)),M.default.createElement(z.default.Item,(0,O.default)({},a,{label:"\u7248\u672c\u540d\u79f0"}),t("version",{initialValue:o.version||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7248\u672c\u540d\u79f0"}]})(M.default.createElement(p.default,{disabled:!0}))),M.default.createElement(z.default.Item,(0,O.default)({},a,{label:"\u7248\u672c\u53f7\u7801"}),t("versionCode",{initialValue:o.versionCode||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7248\u672c\u53f7\u7801"}]})(M.default.createElement(p.default,{disabled:!0}))),M.default.createElement(z.default.Item,(0,O.default)({},a,{label:"\u66f4\u65b0\u65e5\u5fd7"}),t("log",{initialValue:o.log||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u66f4\u65b0\u65e5\u5fd7"}]})(M.default.createElement(p.default,{type:"textarea",rows:4}))),M.default.createElement(z.default.Item,(0,O.default)({},a,{label:"\u76ee\u6807\u7528\u6237"}),t("targets",{initialValue:"specific",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u76ee\u6807\u7528\u6237"}]})(M.default.createElement(k.default.Group,{onChange:this.targetChange.bind(this)},M.default.createElement(k.default,{value:"all"},"\u5168\u90e8"),M.default.createElement(k.default,{value:"specific"},"\u6307\u5b9a")))),M.default.createElement(z.default.Item,(0,O.default)({},this.state.targetValidate,a,{colon:!1,label:" ",style:{display:"all"===this.state.target?"none":"block"}}),M.default.createElement(i.default,null,M.default.createElement(s.default,{span:2},"\u7248\u672c\u53f7"),M.default.createElement(s.default,{span:3},t("operator",{initialValue:o.operator||"<"})(M.default.createElement(d.default,{onSelect:this.operatorSelect.bind(this)},M.default.createElement(d.default.Option,{value:"<"},"<"),M.default.createElement(d.default.Option,{value:"<="},"<="),M.default.createElement(d.default.Option,{value:">"},">"),M.default.createElement(d.default.Option,{value:">="},">="),M.default.createElement(d.default.Option,{value:"=="},"=="),M.default.createElement(d.default.Option,{value:"!="},"!="),M.default.createElement(d.default.Option,{value:"[]"},"[]\u5305\u542b"),M.default.createElement(d.default.Option,{value:"()"},"()\u4e0d\u5305\u542b")))),M.default.createElement(s.default,{span:4,style:{marginLeft:"10px"}},t("condition",{initialValue:o.condition,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6807\u5fd7\u7248\u672c\u53f7"}]})(M.default.createElement(p.default,{placeholder:"\u6807\u5fd7\u7248\u672c\u53f7\uff08\u6574\u6570\uff09",onChange:function(t){return e.setState({targetValidate:{validateStatus:"success",help:""}})}}))),M.default.createElement(s.default,{span:4,style:{marginLeft:"10px",display:this.state.otherShow?"inline-block":"none"}},t("conditionOther",{initialValue:o.conditionOther})(M.default.createElement(p.default,{placeholder:"\u533a\u95f4\u5927\u6570"}))))),M.default.createElement(z.default.Item,(0,O.default)({},a,{label:"\u5f3a\u5236\u66f4\u65b0"}),t("constraint",{initialValue:o.constraint||!1,rules:[{required:!0,message:"\u662f\u5426\u5f3a\u5236\u66f4\u65b0"}]})(M.default.createElement(k.default.Group,null,M.default.createElement(k.default,{value:!0},"\u662f"),M.default.createElement(k.default,{value:!1},"\u5426")))),M.default.createElement(z.default.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:7}}},M.default.createElement(y.default,{type:"primary",htmlType:"submit",size:"large"},this.id?"\u66f4\u65b0":"\u6dfb\u52a0")))},t}(M.default.Component))||r);t.default=R,e.exports=t.default},788:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r,o=(a(11),a(10)),i=l(o),u=(a(39),a(36)),d=l(u),f=a(3),s=l(f),c=(a(17),a(19)),p=l(c),h=a(4),m=l(h),v=a(6),y=l(v),g=a(5),b=l(g),S=(a(25),a(24)),E=l(S),C=a(1),O=l(C),_=a(2),k=(l(_),n=E.default.create(),n(r=function(e){function t(){(0,m.default)(this,t);for(var a=arguments.length,l=Array(a),n=0;n<a;n++)l[n]=arguments[n];var r=(0,y.default)(this,e.call.apply(e,[this].concat(l)));return r.id="",r}return(0,b.default)(t,e),t.prototype.createUpdate=function(e){var t=this;e.preventDefault();var a=this.props,l=a.dispatch,n=a.form;n.validateFields(function(e,a){if(!e){var n=function(){t.props.router.goBack()};t.id?(a.id=t.id,l({type:"activity/updateAppUpdate",payload:{body:a,type:"ios",success:n}})):l({type:"activity/addAppUpdate",payload:{body:a,type:"ios",success:n}})}})},t.prototype.componentWillMount=function(){var e=this.props,t=e.dispatch,a=e.location;this.id=a.query.id||"",this.id&&t({type:"activity/getAppUpdateiOS",payload:{id:this.id}})},t.prototype.render=function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14,offset:1}}},a=this.props.activity.updateInfo;return O.default.createElement(E.default,{onSubmit:this.createUpdate.bind(this)},O.default.createElement(E.default.Item,(0,s.default)({},t,{label:"\u5e94\u7528ID"}),e("bundleID",{initialValue:a.bundleID||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5e94\u7528ID"}]})(O.default.createElement(p.default,{placeholder:"com.zhuishushenqi.com"}))),O.default.createElement(E.default.Item,(0,s.default)({},t,{label:"\u66f4\u65b0\u540d\u79f0"}),e("name",{initialValue:a.name||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u66f4\u65b0\u540d\u79f0"}]})(O.default.createElement(p.default,null))),O.default.createElement(E.default.Item,(0,s.default)({},t,{label:"\u7248\u672c\u540d\u79f0"}),e("version",{initialValue:a.version||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7248\u672c\u540d\u79f0"}]})(O.default.createElement(p.default,{placeholder:"*.*.*"}))),O.default.createElement(E.default.Item,(0,s.default)({},t,{label:"\u7248\u672c\u63cf\u8ff0"}),e("desc",{initialValue:a.desc||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7248\u672c\u63cf\u8ff0"}]})(O.default.createElement(p.default,null))),O.default.createElement(E.default.Item,(0,s.default)({},t,{label:"\u8df3\u8f6cURL"}),e("url",{initialValue:a.url||"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8df3\u8f6cURL"}]})(O.default.createElement(p.default,null))),O.default.createElement(E.default.Item,(0,s.default)({},t,{label:"\u662f\u5426\u5f00\u542f"}),e("status",{initialValue:1===a.status?"yes":"no",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u5f00\u542f"}]})(O.default.createElement(d.default.Group,null,O.default.createElement(d.default,{value:"yes"},"\u662f"),O.default.createElement(d.default,{value:"no"},"\u5426")))),O.default.createElement(E.default.Item,(0,s.default)({},t,{label:"\u66f4\u65b0\u6e20\u9053"}),e("channel",{initialValue:a.free?"free":"genuine"})(O.default.createElement(d.default.Group,{disabled:!!this.id},O.default.createElement(d.default,{value:"genuine"},"\u6b63\u5f0f\u7248\u672c"),O.default.createElement(d.default,{value:"free"},"\u514d\u8d39\u7248\u672c")))),O.default.createElement(E.default.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:7}}},O.default.createElement(i.default,{type:"primary",htmlType:"submit",size:"large"},this.id?"\u66f4\u65b0":"\u6dfb\u52a0")))},t}(O.default.Component))||r);t.default=k,e.exports=t.default},855:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),r=l(n),o=(a(11),a(10)),i=l(o),u=a(4),d=l(u),f=a(6),s=l(f),c=a(5),p=l(c),h=a(1),m=l(h),v=a(2),y=l(v),g=a(16),b=a(787),S=l(b),E=a(788),C=l(E),O=function(e){function t(){(0,d.default)(this,t);for(var a=arguments.length,l=Array(a),n=0;n<a;n++)l[n]=arguments[n];return(0,s.default)(this,e.call.apply(e,[this].concat(l)))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this,t=this.props.location.query.type||"android";return m.default.createElement("div",{className:"content-inner"},m.default.createElement("div",{style:{marginBottom:"20px"}},m.default.createElement(i.default,{onClick:function(){return e.context.router.goBack()}},"\u8fd4\u56de\u5217\u8868")),"android"===t?m.default.createElement(S.default,(0,r.default)({},this.props,{router:this.context.router})):m.default.createElement(C.default,(0,r.default)({},this.props,{router:this.context.router})))},t}(m.default.Component);O.contextTypes={router:y.default.object.isRequired},t.default=(0,g.connect)(function(e){var t=e.activity,a=e.loading;return{activity:t,loading:a.models.activity}})(O),e.exports=t.default},1114:function(e,t,a){var l,n;!function(r,o){l=o,n="function"==typeof l?l.call(t,a,t,e):l,!(void 0!==n&&(e.exports=n))}(this,function(){function e(e,t){return function(a,l,n,r){a[e]?a[e](l,n,r):a[t]&&a[t]("on"+l,n)}}return{add:e("addEventListener","attachEvent"),remove:e("removeEventListener","detachEvent")}})},1139:35,1169:function(e,t){(function(t){function a(e,t,a){function n(t){var a=m,l=v;return m=v=void 0,_=t,g=e.apply(l,a)}function r(e){return _=e,b=setTimeout(f,t),k?n(e):g}function u(e){var a=e-O,l=e-_,n=t-a;return w?E(n,y-l):n}function d(e){var a=e-O,l=e-_;return void 0===O||a>=t||a<0||w&&l>=y}function f(){var e=C();return d(e)?s(e):void(b=setTimeout(f,u(e)))}function s(e){return b=void 0,x&&m?n(e):(m=v=void 0,g)}function c(){void 0!==b&&clearTimeout(b),_=0,m=O=v=b=void 0}function p(){return void 0===b?g:s(C())}function h(){var e=C(),a=d(e);if(m=arguments,v=this,O=e,a){if(void 0===b)return r(O);if(w)return b=setTimeout(f,t),n(O)}return void 0===b&&(b=setTimeout(f,t)),g}var m,v,y,g,b,O,_=0,k=!1,w=!1,x=!0;if("function"!=typeof e)throw new TypeError(i);return t=o(t)||0,l(a)&&(k=!!a.leading,w="maxWait"in a,y=w?S(o(a.maxWait)||0,t):y,x="trailing"in a?!!a.trailing:x),h.cancel=c,h.flush=p,h}function l(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function n(e){return!!e&&"object"==typeof e}function r(e){return"symbol"==typeof e||n(e)&&b.call(e)==d}function o(e){if("number"==typeof e)return e;if(r(e))return u;if(l(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=l(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var a=c.test(e);return a||p.test(e)?h(e.slice(2),a?2:8):s.test(e)?u:+e}var i="Expected a function",u=NaN,d="[object Symbol]",f=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,p=/^0o[0-7]+$/i,h=parseInt,m="object"==typeof t&&t&&t.Object===Object&&t,v="object"==typeof self&&self&&self.Object===Object&&self,y=m||v||Function("return this")(),g=Object.prototype,b=g.toString,S=Math.max,E=Math.min,C=function(){return y.Date.now()};e.exports=a}).call(t,function(){return this}())},1174:function(e,t){(function(t){function a(e,t,a){function l(t){var a=m,l=v;return m=v=void 0,_=t,g=e.apply(l,a)}function r(e){return _=e,b=setTimeout(f,t),k?l(e):g}function o(e){var a=e-S,l=e-_,n=t-a;return w?C(n,y-l):n}function d(e){var a=e-S,l=e-_;return void 0===S||a>=t||a<0||w&&l>=y}function f(){var e=O();return d(e)?s(e):void(b=setTimeout(f,o(e)))}function s(e){return b=void 0,x&&m?l(e):(m=v=void 0,g)}function c(){void 0!==b&&clearTimeout(b),_=0,m=S=v=b=void 0}function p(){return void 0===b?g:s(O())}function h(){var e=O(),a=d(e);if(m=arguments,v=this,S=e,a){if(void 0===b)return r(S);if(w)return b=setTimeout(f,t),l(S)}return void 0===b&&(b=setTimeout(f,t)),g}var m,v,y,g,b,S,_=0,k=!1,w=!1,x=!0;if("function"!=typeof e)throw new TypeError(u);return t=i(t)||0,n(a)&&(k=!!a.leading,w="maxWait"in a,y=w?E(i(a.maxWait)||0,t):y,x="trailing"in a?!!a.trailing:x),h.cancel=c,h.flush=p,h}function l(e,t,l){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(u);return n(l)&&(r="leading"in l?!!l.leading:r,o="trailing"in l?!!l.trailing:o),a(e,t,{leading:r,maxWait:t,trailing:o})}function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function r(e){return!!e&&"object"==typeof e}function o(e){return"symbol"==typeof e||r(e)&&S.call(e)==f}function i(e){if("number"==typeof e)return e;if(o(e))return d;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var a=p.test(e);return a||h.test(e)?m(e.slice(2),a?2:8):c.test(e)?d:+e}var u="Expected a function",d=NaN,f="[object Symbol]",s=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,h=/^0o[0-7]+$/i,m=parseInt,v="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,g=v||y||Function("return this")(),b=Object.prototype,S=b.toString,E=Math.max,C=Math.min,O=function(){return g.Date.now()};e.exports=l}).call(t,function(){return this}())},1396:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var l=t[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,a,l){return a&&e(t.prototype,a),l&&e(t,l),t}}(),u=a(1),d=l(u),f=a(2),s=l(f),c=a(51),p=a(1114),h=a(1169),m=l(h),v=a(1174),y=l(v),g=a(1399),b=l(g),S=a(1398),E=l(S),C=function(e){function t(e){n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.lazyLoadHandler=a.lazyLoadHandler.bind(a),e.throttle>0&&(e.debounce?a.lazyLoadHandler=(0,m.default)(a.lazyLoadHandler,e.throttle):a.lazyLoadHandler=(0,y.default)(a.lazyLoadHandler,e.throttle)),a.state={visible:!1},a}return o(t,e),i(t,[{key:"componentDidMount",value:function(){this._mounted=!0;var e=this.getEventNode();this.lazyLoadHandler(),this.lazyLoadHandler.flush&&this.lazyLoadHandler.flush(),(0,p.add)(window,"resize",this.lazyLoadHandler),(0,p.add)(e,"scroll",this.lazyLoadHandler)}},{key:"componentWillReceiveProps",value:function(){this.state.visible||this.lazyLoadHandler()}},{key:"shouldComponentUpdate",value:function(e,t){return t.visible}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this.lazyLoadHandler.cancel&&this.lazyLoadHandler.cancel(),this.detachListeners()}},{key:"getEventNode",value:function(){return(0,b.default)((0,c.findDOMNode)(this))}},{key:"getOffset",value:function(){var e=this.props,t=e.offset,a=e.offsetVertical,l=e.offsetHorizontal,n=e.offsetTop,r=e.offsetBottom,o=e.offsetLeft,i=e.offsetRight,u=e.threshold,d=u||t,f=a||d,s=l||d;return{top:n||f,bottom:r||f,left:o||s,right:i||s}}},{key:"lazyLoadHandler",value:function(){if(this._mounted){var e=this.getOffset(),t=(0,c.findDOMNode)(this),a=this.getEventNode();if((0,E.default)(t,a,e)){var l=this.props.onContentVisible;this.setState({visible:!0},function(){l&&l()}),this.detachListeners()}}}},{key:"detachListeners",value:function(){var e=this.getEventNode();(0,p.remove)(window,"resize",this.lazyLoadHandler),(0,p.remove)(e,"scroll",this.lazyLoadHandler)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,l=e.height,n=e.width,r=this.state.visible,o={height:l,width:n},i="LazyLoad"+(r?" is-visible":"")+(a?" "+a:"");return d.default.createElement(this.props.elementType,{className:i,style:o},r&&u.Children.only(t))}}]),t}(u.Component);t.default=C,C.propTypes={children:s.default.node.isRequired,className:s.default.string,debounce:s.default.bool,elementType:s.default.string,height:s.default.oneOfType([s.default.string,s.default.number]),offset:s.default.number,offsetBottom:s.default.number,offsetHorizontal:s.default.number,offsetLeft:s.default.number,offsetRight:s.default.number,offsetTop:s.default.number,offsetVertical:s.default.number,threshold:s.default.number,throttle:s.default.number,width:s.default.oneOfType([s.default.string,s.default.number]),onContentVisible:s.default.func},C.defaultProps={elementType:"div",debounce:!0,offset:0,offsetBottom:0,offsetHorizontal:0,offsetLeft:0,offsetRight:0,offsetTop:0,offsetVertical:0,throttle:250}},1397:function(e,t){"use strict";function a(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,left:t.left+window.pageXOffset}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a},1398:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function n(e,t,a){if(i(e))return!1;var l=void 0,n=void 0,r=void 0,u=void 0;if("undefined"==typeof t||t===window)l=window.pageYOffset,r=window.pageXOffset,n=l+window.innerHeight,u=r+window.innerWidth;else{var d=(0,o.default)(t);l=d.top,r=d.left,n=l+t.offsetHeight,u=r+t.offsetWidth}var f=(0,o.default)(e);return l<=f.top+e.offsetHeight+a.top&&n>=f.top-a.bottom&&r<=f.left+e.offsetWidth+a.left&&u>=f.left-a.right}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var r=a(1397),o=l(r),i=function(e){return null===e.offsetParent}},1399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){return"undefined"!=typeof getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.style[t]},l=function(e){return a(e,"overflow")+a(e,"overflow-y")+a(e,"overflow-x")},n=function(e){if(!(e instanceof HTMLElement))return window;for(var t=e;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(l(t)))return t;t=t.parentNode}return window};t.default=n}});