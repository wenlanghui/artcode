webpackJsonp([1],{310:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,r,i,n=(a(24),a(22)),s=l(n),f=(a(74),a(60)),d=l(f),o=a(2),c=l(o),p=(a(30),a(37)),m=l(p),v=a(4),y=l(v),h=a(6),I=l(h),E=a(5),b=l(E),g=(a(36),a(35)),S=l(g),w=a(1),x=l(w),C=a(3),_=(l(C),a(144)),q=(l(_),a(95),a(67)),D=a(59),M=a(18),O=(l(M),u=(0,q.connect)(function(e){var t=e.activity,a=e.loading;return{activity:t,loading:a.models.activity}}),r=S.default.create(),u(i=r(i=function(e){function t(){(0,y.default)(this,t);for(var a=arguments.length,l=Array(a),u=0;u<a;u++)l[u]=arguments[u];var r=(0,I.default)(this,e.call.apply(e,[this].concat(l)));return r.selfId="",r}return(0,b.default)(t,e),t.prototype.componentWillMount=function(){var e=this.props,t=e.dispatch,a=e.params;this.selfId=a.selfId||"",t({type:"activity/getSelfDetail",payload:{selfId:this.selfId}})},t.prototype.createSelf=function(e){var t=this;e.preventDefault();var a=this.props,l=a.dispatch,u=a.form;u.validateFields(function(e,a){e||l(t.selfId?{type:"activity/updateSelf",payload:{selfId:t.selfId,body:a,onSuccess:function(){l(D.routerRedux.push({pathname:"/activities/self"}))}}}:{type:"activity/createSelf",payload:{values:a,onSuccess:function(){l(D.routerRedux.push({pathname:"/activities/self"}))}}})})},t.prototype.render=function(){var e=this.props.form.getFieldDecorator,t={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:14,offset:1}}},a=this.props.activity.selfInfo;return x.default.createElement("div",{className:"content-inner"},x.default.createElement(S.default,{onSubmit:this.createSelf.bind(this)},x.default.createElement(S.default.Item,(0,c.default)({},t,{label:"\u6807\u9898"}),e("title",{initialValue:a.title,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u6807\u9898"}]})(x.default.createElement(m.default,null))),x.default.createElement(S.default.Item,(0,c.default)({},t,{label:"\u94fe\u63a5"}),e("url",{initialValue:a.url,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e66\u7b7e\u94fe\u63a5"}]})(x.default.createElement(m.default,null))),x.default.createElement(S.default.Item,(0,c.default)({},t,{label:"\u7c7b\u578b"}),e("owner",{initialValue:a.owner?a.owner:"private",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u7c7b\u578b"}]})(x.default.createElement(d.default,null,x.default.createElement(d.default.Option,{value:"private"},"\u79c1\u6709"),x.default.createElement(d.default.Option,{value:"public"},"\u516c\u5171")))),x.default.createElement(S.default.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:7}}},x.default.createElement(s.default,{type:"primary",htmlType:"submit",size:"large"},this.selfId?"\u7f16\u8f91":"\u6dfb\u52a0"))))},t}(x.default.Component))||i)||i);t.default=O,e.exports=t.default}});