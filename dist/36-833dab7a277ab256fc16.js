webpackJsonp([36],{76:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(175);t.default=r.Col,e.exports=t.default},77:131,207:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=(n(25),n(24)),l=r(a),u=(n(131),n(130)),d=r(u),i=(n(77),n(76)),o=r(i),f=(n(11),n(10)),c=r(f),s=n(1),p=r(s),m=n(2),y=r(m),h=function(e){var t=e.onAdd;return p.default.createElement(d.default,{type:"flex",justify:"end",style:{marginBottom:15}},p.default.createElement(o.default,null,p.default.createElement(c.default,{style:{marginLeft:20},size:"large",type:"ghost",onClick:t},"\u6dfb\u52a0")))};h.propTypes={onAdd:y.default.func.isRequired},t.default=l.default.create()(h),e.exports=t.default},430:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=(n(25),n(24)),l=r(a),u=(n(131),n(130)),d=r(u),i=(n(77),n(76)),o=r(i),f=(n(11),n(10)),c=r(f),s=(n(17),n(19)),p=r(s),m=n(1),y=r(m),h=n(2),E=r(h),_=p.default.Search,b=function(e){var t=e.onAdd,n=e.search;return y.default.createElement(d.default,{type:"flex",justify:"end",style:{marginBottom:15}},y.default.createElement(o.default,null,y.default.createElement(_,{placeholder:"input search text",style:{width:200},onSearch:n}),y.default.createElement(c.default,{style:{marginLeft:20},size:"large",type:"ghost",onClick:t},"\u6dfb\u52a0")))};b.propTypes={onAdd:E.default.func,search:E.default.func},t.default=l.default.create()(b),e.exports=t.default},821:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AllowEditModal=void 0;var a=(n(50),n(41)),l=r(a),u=(n(46),n(42)),d=r(u),i=n(4),o=r(i),f=n(6),c=r(f),s=n(5),p=r(s),m=n(1),y=r(m),h=n(2),E=r(h),_=n(32),b=t.AllowEditModal=function(e){function t(){(0,o.default)(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];return(0,c.default)(this,e.call.apply(e,[this].concat(r)))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.visible,r=e.onOk,a=e.onCancel,u=e.roles,i=e.resources,o=u.map(function(e){return y.default.createElement(d.default.Option,{key:e._id,value:e._id},e.name)}),f=i.map(function(e){return y.default.createElement(d.default.Option,{key:e._id,value:e._id},e.name)}),c={EditUserInfo:{key:"EditUserInfo",title:"\u7f16\u8f91\u6743\u9650\u4fe1\u606f",fields:[{label:"ID",key:"_id",required:!0,disabled:t._id,hidden:!t._id},{label:"\u89d2\u8272",key:"role",required:!0,render:function(){return y.default.createElement(d.default,{searchPlaceholder:"\u89d2\u8272\u9009\u62e9"},o)}},{label:"\u8d44\u6e90",key:"resource",required:!0,render:function(){return y.default.createElement(d.default,{searchPlaceholder:"\u89d2\u8272\u9009\u62e9"},f)}},{label:"\u6743\u9650",key:"permissions",required:!0,render:function(){return y.default.createElement(l.default.Group,{options:["get","post","put","delete"]})}}]}};return y.default.createElement(_.FormModal,{item:t,defaultTab:"EditUserInfo",tabs:c,title:"\u7f16\u8f91\u6743\u9650\u4fe1\u606f",visible:n,onOk:r,onCancel:a})},t}(y.default.Component);b.propTypes={resources:E.default.array.isRequired,roles:E.default.array.isRequired,item:E.default.object.isRequired,location:E.default.object.isRequired,visible:E.default.bool.isRequired,onOk:E.default.func.isRequired,onCancel:E.default.func.isRequired}},822:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(3),l=r(a),u=(n(30),n(29)),d=r(u),i=n(4),o=r(i),f=n(6),c=r(f),s=n(5),p=r(s),m=n(1),y=r(m),h=n(2),E=r(h),_=n(21),b=n(79),v=r(b),g=function(e){function t(n){return(0,o.default)(this,t),(0,c.default)(this,e.call(this,n))}return(0,p.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.dataSource,r=(e.pagination,e.onDeleteItem),a=e.onEditItem,u=e.roles,i=e.resources,o=[{title:"\u89d2\u8272",dataIndex:"role",key:"role",width:200,render:function(e){return v.default.find(u,{_id:e}).name}},{title:"\u8d44\u6e90",dataIndex:"resource",key:"resource",width:200,render:function(e){var t=v.default.find(i,{_id:e});return t?t.name:e}},{title:"\u6743\u9650",dataIndex:"permissions",key:"permissions",width:300,render:function(e){return e.join(", ")}},{title:"\u64cd\u4f5c",key:"operation",width:100,render:function(e,t){return y.default.createElement("p",null,y.default.createElement("a",{onClick:function(){return a(t)},style:{marginRight:4}},"\u7f16\u8f91"),y.default.createElement(d.default,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){return r(t._id)}},y.default.createElement("a",null,"\u5220\u9664")))}}];return y.default.createElement("div",null,y.default.createElement(_.ExtExtTable,(0,l.default)({},this.props,{bordered:!0,columns:o,dataSource:n,loading:t})))},t}(y.default.Component);t.default=g,g.propTypes={pagination:E.default.object.isRequired,loading:E.default.bool.isRequired,dataSource:E.default.array.isRequired,onDeleteItem:E.default.func.isRequired,onEditItem:E.default.func.isRequired},e.exports=t.default},897:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=e.location,n=e.dispatch,r=e.permission,a=r.loading,l=r.editModalVisible,d=r.pagination,i=r.allows,f=r.currentAllow,c=r.roles,p=r.resources,_=(0,E.warpDispatch)(n,h.namespace,{location:t}),b={location:t,dispatch:n,roles:c,resources:p,item:f,visible:l,onOk:function(e){console.log("currentAllow",f,e),_(f._id?"updateAllow":"createAllow",{data:e})},onCancel:function(){return _("updateState",{editModalVisible:!1})}},v={location:t,loading:a,pagination:d,permission:r,dataSource:i,roles:c,resources:p,onDeleteItem:function(e){return _("deleteAllow",{id:e})},onEditItem:function(e){return _("showModal",{currentAllow:e})}},g={onAdd:function(){return _("updateState",{editModalVisible:!0})},search:function(e){var r=t.pathname;n(o.routerRedux.push({pathname:r,query:{name:e}}))}};return u.default.createElement("div",{className:"content-inner"},u.default.createElement(s.default,g),u.default.createElement(m.default,v),u.default.createElement(y.AllowEditModal,b))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),u=r(l),d=n(2),i=r(d),o=n(75),f=n(207),c=(r(f),n(430)),s=r(c),p=n(822),m=r(p),y=n(821),h=n(348),E=n(91);a.propTypes={permission:i.default.object.isRequired,location:i.default.object.isRequired,dispatch:i.default.func.isRequired},t.default=(0,E.connectNamespaces)(h.namespace)(a),e.exports=t.default}});