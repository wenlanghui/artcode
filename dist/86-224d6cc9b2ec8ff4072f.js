webpackJsonp([86],{854:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,n,r,u=(a(93),a(92)),i=l(u),o=(a(17),a(19)),c=l(o),f=(a(11),a(10)),s=l(f),p=(a(45),a(44)),m=l(p),y=a(3),h=l(y),x=(a(46),a(42)),v=l(x),E=a(12),g=l(E),C=a(4),I=l(C),b=a(6),w=l(b),k=a(5),S=l(k),_=(a(25),a(24)),N=l(_),D=a(1),V=l(D),F=a(2),L=(l(F),a(16)),M=a(14),O=(l(M),d=(0,L.connect)(function(e){var t=e.activity,a=e.loading;return{activity:t,loading:a.models.activty}}),n=N.default.create(),d(r=n(r=function(e){function t(){(0,I.default)(this,t);for(var a=arguments.length,l=Array(a),d=0;d<a;d++)l[d]=arguments[d];return(0,w.default)(this,e.call.apply(e,[this].concat(l)))}return(0,S.default)(t,e),t.prototype.createCode=function(e){e.preventDefault();var t=this.props,a=t.form,l=t.dispatch;l({type:"activity/createCode",payload:a.getFieldsValue()})},t.prototype.searchCodes=function(e,t){var a=this.props.dispatch;a({type:"activity/getCodes",payload:(0,g.default)({},t,e)})},t.prototype.render=function(){var e=this,t=[{title:"\u5151\u6362\u7801",dataIndex:"code",key:"code"},{title:"\u6d3b\u52a8\u540d\u79f0",dataIndex:"title",key:"title"},{title:"\u751f\u6210\u65f6\u95f4",dataIndex:"created",key:"created"},{title:"\u5931\u6548\u65f6\u95f4",dataIndex:"expiration",key:"expiration"},{title:"\u5151\u6362\u65f6\u95f4",dataIndex:"useDate",key:"useDate"},{title:"\u53ef\u5151\u6362\u6b21\u6570",dataIndex:"useNum",key:"useNum"},{title:"\u5151\u6362\u6b21\u6570",dataIndex:"usedNum",key:"usedNum"}],a={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:12}}},l=this.props.form.getFieldDecorator,d=this.props.activity,n=d.list,r=d.codes,u=d.searchCodes;return V.default.createElement("div",{className:"content-inner"},V.default.createElement(N.default,{onSubmit:this.createCode.bind(this)},V.default.createElement(N.default.Item,(0,h.default)({},a,{label:"\u6d3b\u52a8\u540d\u79f0"}),l("activity",{initialValue:n.length>0?n[0]._id:""})(V.default.createElement(v.default,null,n.map(function(e){return V.default.createElement(v.default.Option,{key:e._id,value:e._id},e.title)})))),V.default.createElement(N.default.Item,(0,h.default)({},a,{label:"\u53ef\u5151\u6362\u6b21\u6570"}),l("useNum",{initialValue:1})(V.default.createElement(m.default,null))),V.default.createElement(N.default.Item,(0,h.default)({},a,{label:"\u6709\u6548\u671f(\u5929)"}),l("expiration",{initialValue:1})(V.default.createElement(m.default,{style:{width:"200px"}}))),V.default.createElement(N.default.Item,(0,h.default)({},a,{label:"\u751f\u6210\u6570\u91cf"}),l("count",{initialValue:1})(V.default.createElement(m.default,{style:{width:"200px"}}))),V.default.createElement(N.default.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:14,offset:6}}},V.default.createElement(s.default,{type:"primary",htmlType:"submit",size:"large"},"\u751f\u6210"))),V.default.createElement(c.default,{type:"textarea",rows:6,value:r}),V.default.createElement("div",null,V.default.createElement("div",{style:{margin:"10px 0"}},V.default.createElement(c.default.Search,{placeholder:"\u7528\u6237ID",onSearch:function(t){return e.searchCodes(t,"user")},style:{width:"150px"}}),V.default.createElement(c.default.Search,{placeholder:"\u6d3b\u52a8\u540d\u79f0",onSearch:function(t){return e.searchCodes(t,"title")},style:{width:"150px",marginLeft:"10px"}}),V.default.createElement(c.default.Search,{placeholder:"\u5151\u6362\u7801",onSearch:function(t){return e.searchCodes(t,"code")},style:{width:"150px",marginLeft:"10px"}})),V.default.createElement(i.default,{dataSource:u,columns:t,rowKey:function(e){return e.code},loading:this.props.loading})))},t}(V.default.Component))||r)||r);t.default=O,e.exports=t.default}});