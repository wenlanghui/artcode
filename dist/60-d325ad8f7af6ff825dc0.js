webpackJsonp([60],{873:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.visible,a=e.onOk,l=e.onCancel,o=e.form.getFieldDecorator,n={visible:t,onOk:a,onCancel:l,title:"\u624b\u52a8\u6dfb\u52a0\u8d44\u6e90\u7ad9",width:800,okText:"\u6dfb\u52a0"};return C.default.createElement(k.default,n,C.default.createElement(v.default,null,C.default.createElement(w,(0,m.default)({style:{marginTop:30},label:"\u5730\u5740:",help:"\u8bf7\u8f93\u5165\u76ee\u5f55\u9875\u7684\u5730\u5740",hasFeedback:!0},_),o("link",{})(C.default.createElement(h.default,null)))))}Object.defineProperty(t,"__esModule",{value:!0});var n=(a(11),a(10)),r=l(n),u=a(4),c=l(u),f=a(6),i=l(f),d=a(5),s=l(d),b=(a(72),a(71)),k=l(b),p=a(3),m=l(p),E=(a(17),a(19)),h=l(E),g=(a(25),a(24)),v=l(g),y=a(1),C=l(y),I=a(2),D=l(I),S=a(1158),x=l(S),T=a(16),B=a(59),O=a(78),w=v.default.Item,_={labelCol:{span:4},wrapperCol:{span:16}};o.propTypes={visible:D.default.bool.isRequired,onOk:D.default.func.isRequired,onCancel:D.default.func.isRequired,form:D.default.object.isRequired};var j=function(e){function t(a){(0,c.default)(this,t);var l=(0,i.default)(this,e.call(this,a));return l.state={},l}return(0,s.default)(t,e),t.prototype.render=function(){var e=this,t=this.props,a=t.dispatch,l=t.books,n=l.bookID,u=l.bookDetail,c=l.administrators,f={bookDetail:u},i={},d=v.default.create({onValuesChange:function(e,t){(0,m.default)(i,t)}})(B.BooksViewForm),s=function(){a({type:"books/updateBookInfo",payload:{bookID:n,bookDetail:u}})},b=function(){a({type:"books/resetStarting",payload:{bookID:n,bookDetail:u}})},k=function(){a({type:"books/addBookVipToc",payload:{bookID:n,bookDetail:u}})},p=function(){a({type:"books/addBookOtherToc",payload:{bookID:n,bookDetail:u}})},E=function(){e.context.router.goBack()},h="",g=v.default.create({onValuesChange:function(e,t){h=t.link}})(o),y=function(){e.setState((0,m.default)({},e.state,{visible:!0}))},I=function(){e.setState((0,m.default)({},e.state,{visible:!1}))},D=function(){I(),a({type:"books/addBookToc",payload:{bookID:n,link:h}})};return C.default.createElement("div",{className:"content-inner"},C.default.createElement("div",{style:{marginBottom:"20px"}},C.default.createElement(r.default,{onClick:E},"\u8fd4\u56de\u5217\u8868")),C.default.createElement("div",null,"\u7ba1\u7406\u5458\uff1a",0===c.length?"\u65e0":c.map(function(e){return C.default.createElement("a",{href:"#/users/info?_id="+e._id},e.nickname)})),C.default.createElement("div",null,"\u8bdd\u9898\uff1a",C.default.createElement("a",{href:"#/posts/list?book="+n+"&block=book"},u.postCount+"\u4e2a\u8bdd\u9898\uff08"+u.reviewCount+"\u4e2a\u4e66\u8bc4)"),"|",C.default.createElement("a",{href:"#/posts/statistics?days=7&book="+n},"\u7edf\u8ba1\u6570\u636e"),"|",C.default.createElement("a",{href:"#/posts/add?book="+n+"&block=book"},"\u6dfb\u52a0\u8bdd\u9898"),C.default.createElement("br",null),"\u94fe\u63a5\uff1a",C.default.createElement("a",{href:"#/books/books?searchType=ids&ids="+n},"\u2714\u76f8\u4f3c\u4e66\u7c4d"),"|",C.default.createElement("a",{href:"#/books/"+n+"/toc-mix"},"\u2714\u6df7\u5408\u76ee\u5f55"),"|",C.default.createElement("a",{href:"#/books/"+n+"/chapter-errors"},"\u2714\u7ae0\u8282\u62a5\u9519"),"|",C.default.createElement("a",{href:"#/books/"+n+"/statistics"},"\u2714\u9605\u8bfb\u7edf\u8ba1"),"|",C.default.createElement("a",{href:"http://share.zhuishushenqi.com/book/"+n},"\u2714\u5206\u4eab\u94fe\u63a5"),C.default.createElement("br",null),"\u4ed8\u8d39\u4e0e\u6253\u8d4f\uff1a",C.default.createElement("a",{href:(0,x.default)(O.bookOrderUrl,n)},"\u2714\ufe0f\u67e5\u770b\u660e\u7ec6")),C.default.createElement("br",null),C.default.createElement("hr",null),C.default.createElement("br",null),C.default.createElement("div",null,"\u64cd\u4f5c\uff1a",C.default.createElement("a",{href:"#/books/"+u._id+"/detail"},C.default.createElement(r.default,null,"\u7f16\u8f91")),"\xa0",C.default.createElement(r.default,{onClick:s},"\u66f4\u65b0\u4e66\u7c4d\u4fe1\u606f"),"\xa0",C.default.createElement(r.default,{onClick:k},"\u8bbe\u4e3a\u4f18\u8d28\u8d44\u6e90(VipToc)"),"\xa0",!u.original&&C.default.createElement(r.default,{onClick:b},"\u91cd\u8bbe\u9996\u53d1\u7ad9")),C.default.createElement(d,f),C.default.createElement("br",null),C.default.createElement("hr",null),C.default.createElement("br",null),C.default.createElement("div",null,C.default.createElement(B.BooksAggregationSource,this.props),C.default.createElement("br",null),C.default.createElement("hr",null),C.default.createElement("br",null),!u.original&&C.default.createElement(r.default,{onClick:p},"\u626b\u63cf\u5e76\u6dfb\u52a0\u5176\u4ed6\u8d44\u6e90\u7ad9"),"\xa0",C.default.createElement(r.default,{onClick:y},"\u624b\u52a8\u6dfb\u52a0\u8d44\u6e90\u7ad9"),"\xa0",C.default.createElement(r.default,{onClick:b},"\u91cd\u8bbe\u9996\u53d1\u7ad9"),"\xa0",C.default.createElement(B.BooksToc,this.props)),C.default.createElement(g,{visible:this.state.visible||!1,onOk:D,onCancel:I}))},t}(C.default.Component);j.propTypes={allow:D.default.object,dispatch:D.default.func,books:D.default.object},j.contextTypes={router:D.default.object.isRequired},t.default=(0,T.connect)(function(e){var t=e.books;return{books:t}})(j),e.exports=t.default},1158:function(e,t,a){!function(){function t(){console.log(l.apply(null,arguments))}function a(e,t){return l.apply(null,[e].concat(t))}function l(e){for(var t,a,l,o,n=1,r=[].slice.call(arguments),u=0,c=e.length,f="",i=!1,d=!1,s=function(){return r[n++]},b=function(){for(var a="";/\d/.test(e[u]);)a+=e[u++],t=e[u];return a.length>0?parseInt(a):null};u<c;++u)if(t=e[u],i)switch(i=!1,"."==t?(d=!1,t=e[++u]):"0"==t&&"."==e[u+1]?(d=!0,u+=2,t=e[u]):d=!0,o=b(),t){case"b":f+=parseInt(s(),10).toString(2);break;case"c":a=s(),f+="string"==typeof a||a instanceof String?a:String.fromCharCode(parseInt(a,10));break;case"d":f+=parseInt(s(),10);break;case"f":l=String(parseFloat(s()).toFixed(o||6)),f+=d?l:l.replace(/^0/,"");break;case"j":f+=JSON.stringify(s());break;case"o":f+="0"+parseInt(s(),10).toString(8);break;case"s":f+=s();break;case"x":f+="0x"+parseInt(s(),10).toString(16);break;case"X":f+="0x"+parseInt(s(),10).toString(16).toUpperCase();break;default:f+=t}else"%"===t?i=!0:f+=t;return f}var o;o=e.exports=l,o.format=l,o.vsprintf=a,"undefined"!=typeof console&&"function"==typeof console.log&&(o.printf=t)}()}});