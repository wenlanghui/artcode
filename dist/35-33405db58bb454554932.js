webpackJsonp([35],{76:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(175);t.default=a.Col,e.exports=t.default},77:131,367:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3),l=a(r),i=(n(30),n(29)),d=a(i),u=n(4),o=a(u),s=n(6),f=a(s),c=n(5),m=a(c),p=n(1),h=a(p),y=n(2),E=a(y),_=(n(79),n(21)),b=function(e){function t(n){return(0,o.default)(this,t),(0,f.default)(this,e.call(this,n))}return(0,m.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.dataSource,a=e.permission,r=e.onDeleteItem,i=e.onEditItem,u=e.highlightAdministrator,o=e.highlightRole,s=a.resourceToRole,f=[{title:"ID",dataIndex:"_id",key:"_id",width:200},{title:"\u540d\u79f0",dataIndex:"name",key:"name",width:200}];return this.props.isChild||(f.push({title:"\u89d2\u8272",dataIndex:"roles",key:"roles",width:200,render:function(e,t){var n=s[t._id],a=n?n.roles:[];return h.default.createElement("div",null,a.map(function(e){return e.role===o?h.default.createElement("span",{style:{color:"red"}},h.default.createElement("b",null," "+e.role+" ")):h.default.createElement("span",null," "+e.role+" ")}))}}),f.push({title:"\u7ba1\u7406\u5458",dataIndex:"administrators",key:"administrators",width:300,render:function(e,t){var n=s[t._id],a=n?n.administrators:[];return h.default.createElement("div",null,a.map(function(e){var t=e.name;return t===u?h.default.createElement("span",{style:{color:"red"}},h.default.createElement("b",null," "+t+" ")):h.default.createElement("span",null," "+t+" ")}))}}),f.push({title:"\u64cd\u4f5c",key:"operation",width:100,render:function(e,t){return h.default.createElement("p",null,h.default.createElement("a",{onClick:function(){return i(t)},style:{marginRight:4}},"\u7f16\u8f91"),h.default.createElement(d.default,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){return r(t._id)}},h.default.createElement("a",null,"\u5220\u9664")))}})),h.default.createElement("div",null,h.default.createElement(_.ExtExtTable,(0,l.default)({},this.props,{columns:f,dataSource:n,loading:t,pagination:!1})))},t}(h.default.Component);t.default=b,b.propTypes={loading:E.default.bool.isRequired,dataSource:E.default.array.isRequired,permission:E.default.object.isRequired,onDeleteItem:E.default.func.isRequired,onEditItem:E.default.func.isRequired,highlightAdministrator:E.default.string,highlightRole:E.default.string},e.exports=t.default},430:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=(n(25),n(24)),l=a(r),i=(n(131),n(130)),d=a(i),u=(n(77),n(76)),o=a(u),s=(n(11),n(10)),f=a(s),c=(n(17),n(19)),m=a(c),p=n(1),h=a(p),y=n(2),E=a(y),_=m.default.Search,b=function(e){var t=e.onAdd,n=e.search;return h.default.createElement(d.default,{type:"flex",justify:"end",style:{marginBottom:15}},h.default.createElement(o.default,null,h.default.createElement(_,{placeholder:"input search text",style:{width:200},onSearch:n}),h.default.createElement(f.default,{style:{marginLeft:20},size:"large",type:"ghost",onClick:t},"\u6dfb\u52a0")))};b.propTypes={onAdd:E.default.func,search:E.default.func},t.default=l.default.create()(b),e.exports=t.default},819:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AdministratorEditModal=void 0;var r=(n(46),n(42)),l=a(r),i=n(4),d=a(i),u=n(6),o=a(u),s=n(5),f=a(s),c=n(1),m=a(c),p=n(2),h=a(p),y=n(32),E=t.AdministratorEditModal=function(e){function t(){(0,d.default)(this,t);for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return(0,o.default)(this,e.call.apply(e,[this].concat(a)))}return(0,f.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.roles,a=e.visible,r=e.onOk,i=e.onCancel,d=n.map(function(e){return m.default.createElement(l.default.Option,{key:e._id,value:e._id},e.name)}),u={EditUserInfo:{key:"EditUserInfo",title:"\u7f16\u8f91\u7528\u6237\u4fe1\u606f",fields:[{label:"_id",key:"_id",required:!0,hidden:!t._id,disabled:!!t._id},{label:"\u59d3\u540d",key:"name",required:!0},{label:"\u5bc6\u7801",key:"password",required:!0,hidden:!!t._id},{label:"\u7535\u8bdd",key:"cellphone",required:!0},{label:"\u90ae\u7bb1",key:"email",required:!0},{label:"\u89d2\u8272",key:"roles",required:!0,render:function(){return m.default.createElement(l.default,{mode:"multiple",searchPlaceholder:"\u89d2\u8272\u9009\u62e9"},d)}}]}};return m.default.createElement(y.FormModal,{item:t,defaultTab:"EditUserInfo",tabs:u,title:"\u6279\u91cf\u7f16\u8f91",visible:a,onOk:r,onCancel:i})},t}(m.default.Component);E.propTypes={item:h.default.object.isRequired,location:h.default.object.isRequired,roles:h.default.array.isRequired,visible:h.default.bool.isRequired,onOk:h.default.func.isRequired,onCancel:h.default.func.isRequired}},820:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(3),l=a(r),i=(n(30),n(29)),d=a(i),u=n(4),o=a(u),s=n(6),f=a(s),c=n(5),m=a(c),p=n(1),h=a(p),y=n(2),E=a(y),_=(n(79),n(21)),b=n(367),v=(a(b),function(e){function t(n){return(0,o.default)(this,t),(0,f.default)(this,e.call(this,n))}return(0,m.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.dataSource,a=e.onDeleteItem,r=e.onEditItem,i=e.roles,u=[{title:"\u59d3\u540d",dataIndex:"name",key:"name"},{title:"\u7535\u8bdd",dataIndex:"cellphone",key:"cellphone"},{title:"\u90ae\u4ef6",dataIndex:"email",key:"email"},{title:"\u89d2\u8272",dataIndex:"roles",key:"roles",render:function(e){return i.filter(function(t){return e.indexOf(t._id)!==-1}).map(function(e){return e.name}).join(",")}},{title:"\u64cd\u4f5c",key:"operation",width:100,render:function(e,t){return h.default.createElement("p",null,h.default.createElement("a",{onClick:function(){return r(t)},style:{marginRight:4}},"\u7f16\u8f91"),h.default.createElement(d.default,{title:"\u786e\u5b9a\u8981\u5220\u9664\u5417\uff1f",onConfirm:function(){return a(t._id)}},h.default.createElement("a",null,"\u5220\u9664")))}}];return h.default.createElement("div",null,h.default.createElement(_.ExtExtTable,(0,l.default)({},this.props,{columns:u,dataSource:n,loading:t,pagination:!1})))},t}(h.default.Component));t.default=v,v.propTypes={loading:E.default.bool.isRequired,dataSource:E.default.array.isRequired,onDeleteItem:E.default.func.isRequired,onEditItem:E.default.func.isRequired,roles:E.default.array.isRequired},e.exports=t.default},896:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.location,n=e.dispatch,a=e.permission,r=a.loading,l=a.editModalVisible,d=a.pagination,u=a.administrators,s=a.currentAdministrator,c=a.roles,E=(0,y.warpDispatch)(n,h.namespace,{location:t}),_={location:t,dispatch:n,roles:c,item:s,visible:l,onOk:function(e){E(s._id?"updateAdministrator":"createAdministrator",{data:e})},onCancel:function(){return E("updateState",{editModalVisible:!1})}},b={location:t,loading:r,pagination:d,permission:a,dataSource:u,roles:c,onDeleteItem:function(e){return E("deleteAdministrator",{id:e})},onEditItem:function(e){return E("showModal",{currentAdministrator:e})}},v={onAdd:function(){return E("updateState",{editModalVisible:!0})},search:function(e){var a=t.pathname;n(o.routerRedux.push({pathname:a,query:{name:e}}))}};return i.default.createElement("div",{className:"content-inner"},i.default.createElement(f.default,v),i.default.createElement(m.default,b),i.default.createElement(p.AdministratorEditModal,_))}Object.defineProperty(t,"__esModule",{value:!0});var l=n(1),i=a(l),d=n(2),u=a(d),o=n(75),s=n(430),f=a(s),c=n(820),m=a(c),p=n(819),h=n(348),y=n(91);r.propTypes={permission:u.default.object.isRequired,location:u.default.object.isRequired,dispatch:u.default.func.isRequired},t.default=(0,y.connectNamespaces)(h.namespace)(r),e.exports=t.default}});